<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANNA.EXE - CYBER CODER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Fira+Code:wght@300;400;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Fira Code', monospace;
            background: #0a0a0a;
            color: #00ff41;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }
        
        .cyber-font { font-family: 'Orbitroфn', monospace; }
        .mono-font { font-family: 'Share Tech Mono', monospace; }
        
        /* Киберпанк фон */
        .cyber-bg {
            background: 
                radial-gradient(circle at 20% 50%, rgba(0,255,65,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,20,147,0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(0,191,255,0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a0a1a 50%, #0a1a0a 100%);
        }
        
        /* Неоновые эффекты */
        .neon-green {
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 20px #00ff41, 0 0 40px #00ff41;
        }
        
        .neon-pink {
            color: #ff1493;
            text-shadow: 0 0 5px #ff1493, 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 40px #ff1493;
        }
        
        .neon-blue {
            color: #00bfff;
            text-shadow: 0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff;
        }
        
        /* Мерцание неона */
        .flicker {
            animation: flicker 2s infinite alternate;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* Глитч эффект */
        .glitch {
            position: relative;
            color: #00ff41;
        }
        
        .glitch:hover::before,
        .glitch:hover::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .glitch:hover::before {
            animation: glitch-1 0.5s infinite;
            color: #ff1493;
            z-index: -1;
        }
        
        .glitch:hover::after {
            animation: glitch-2 0.5s infinite;
            color: #00bfff;
            z-index: -2;
        }
        
        @keyframes glitch-1 {
            0%, 14%, 15%, 49%, 50%, 99%, 100% { transform: translate(0); }
            15%, 49% { transform: translate(-2px, -2px); }
        }
        
        @keyframes glitch-2 {
            0%, 20%, 21%, 62%, 63%, 99%, 100% { transform: translate(0); }
            21%, 62% { transform: translate(2px, 2px); }
        }
        
        /* Киберпанк кнопки */
        .cyber-button {
            background: linear-gradient(45deg, transparent, rgba(0,255,65,0.1), transparent);
            border: 1px solid #00ff41;
            color: #00ff41;
            padding: 12px 24px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            clip-path: polygon(10px 0%, 100% 0%, calc(100% - 10px) 100%, 0% 100%);
        }
        
        .cyber-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,255,65,0.4), transparent);
            transition: left 0.5s;
        }
        
        .cyber-button:hover::before {
            left: 100%;
        }
        
        .cyber-button:hover {
            box-shadow: 0 0 20px rgba(0,255,65,0.5);
            transform: translateY(-2px);
        }
        
        /* Киберпанк карточки */
        .cyber-card {
            background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(26,10,26,0.8));
            border: 1px solid rgba(0,255,65,0.3);
            position: relative;
            overflow: hidden;
            clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
            transition: all 0.3s ease;
        }
        
        .cyber-card:hover {
            border-color: #00ff41;
            box-shadow: 0 0 30px rgba(0,255,65,0.2);
            transform: translateY(-5px);
        }
        
        .cyber-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff41, transparent);
        }
        
        /* Матричный дождь - отключаем на мобильных */
        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }
        
        @media (max-width: 768px) {
            .matrix-rain {
                display: none;
            }
        }
        
        .matrix-char {
            position: absolute;
            color: #00ff41;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            from { transform: translateY(-100vh); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0; }
        }
        
        /* Терминал */
        .terminal {
            background: rgba(0,0,0,0.9);
            border: 1px solid #00ff41;
            font-family: 'Fira Code', monospace;
            color: #00ff41;
            padding: 20px;
            border-radius: 0;
            position: relative;
        }
        
        .terminal::before {
            content: 'ANNA@CYBERNET:~$ ';
            color: #ff1493;
        }
        
        /* Печатная машинка эффект */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid #00ff41;
            white-space: nowrap;
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #00ff41; }
        }
        
        /* Анимации печатания для терминала (очень быстрые) */
        .type-anim-1 { animation: type1 0.4s steps(30, end) 0.1s both; }
        .type-anim-2 { animation: type2 0.3s steps(25, end) 0.6s both; }
        .type-anim-3 { animation: type3 0.4s steps(20, end) 1.0s both; }
        .type-anim-4 { animation: type4 0.3s steps(15, end) 1.5s both; }
        .type-anim-5 { animation: type5 0.3s steps(15, end) 1.9s both; }
        .type-anim-6 { animation: type6 0.3s steps(15, end) 2.3s both; }
        .type-anim-7 { animation: type7 0.3s steps(20, end) 2.7s both; }
        .type-anim-8 { animation: type8 0.4s steps(25, end) 3.1s both; }
        
        @keyframes type1 { from { width: 0; } to { width: 100%; } }
        @keyframes type2 { from { width: 0; } to { width: 100%; } }
        @keyframes type3 { from { width: 0; } to { width: 100%; } }
        @keyframes type4 { from { width: 0; } to { width: 100%; } }
        @keyframes type5 { from { width: 0; } to { width: 100%; } }
        @keyframes type6 { from { width: 0; } to { width: 100%; } }
        @keyframes type7 { from { width: 0; } to { width: 100%; } }
        @keyframes type8 { from { width: 0; } to { width: 100%; } }
        @keyframes type8 { from { width: 0; } to { width: 100%; } }
        @keyframes type9 { from { width: 0; } to { width: 100%; } }
        @keyframes type10 { from { width: 0; } to { width: 100%; } }
        @keyframes type11 { from { width: 0; } to { width: 100%; } }
        @keyframes type12 { from { width: 0; } to { width: 100%; } }
        @keyframes type13 { from { width: 0; } to { width: 100%; } }
        
        /* Скрытие элементов до анимации */
        .type-hidden {
            width: 0;
            overflow: hidden;
            white-space: nowrap;
        }
        
        /* Курсор мигающий */
        .typing-cursor::after {
            content: '_';
            color: #00ff41;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Продвинутые глитч эффекты */
        .random-glitch {
            position: relative;
        }
        
        .random-glitch.glitching::before,
        .random-glitch.glitching::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
        }
        
        .random-glitch.glitching::before {
            color: #ff1493;
            animation: chaos-glitch-1 0.3s infinite;
            z-index: -1;
            mix-blend-mode: screen;
        }
        
        .random-glitch.glitching::after {
            color: #00bfff;
            animation: chaos-glitch-2 0.3s infinite;
            z-index: -2;
            mix-blend-mode: screen;
        }
        
        @keyframes chaos-glitch-1 {
            0% { transform: translate(0); }
            10% { transform: translate(-2px, 2px); }
            20% { transform: translate(-4px, -2px); }
            30% { transform: translate(2px, -4px); }
            40% { transform: translate(-3px, 1px); }
            50% { transform: translate(3px, -3px); }
            60% { transform: translate(-1px, 3px); }
            70% { transform: translate(4px, -1px); }
            80% { transform: translate(-4px, 4px); }
            90% { transform: translate(1px, -2px); }
            100% { transform: translate(0); }
        }
        
        @keyframes chaos-glitch-2 {
            0% { transform: translate(0); }
            15% { transform: translate(3px, -2px); }
            25% { transform: translate(-2px, 3px); }
            35% { transform: translate(4px, 1px); }
            45% { transform: translate(-1px, -3px); }
            55% { transform: translate(-3px, 2px); }
            65% { transform: translate(2px, 4px); }
            75% { transform: translate(-4px, -1px); }
            85% { transform: translate(3px, 3px); }
            95% { transform: translate(-2px, -4px); }
            100% { transform: translate(0); }
        }
        
        /* Глитч эффект для карточек */
        .card-glitch {
            position: relative;
            transition: all 0.1s ease;
        }
        
        .card-glitch.glitching {
            animation: card-distort 0.5s ease-in-out;
        }
        
        @keyframes card-distort {
            0%, 100% { transform: translate(0); filter: hue-rotate(0deg) saturate(1); }
            10% { transform: translate(-1px, 1px); filter: hue-rotate(90deg) saturate(1.5); }
            20% { transform: translate(2px, -1px); filter: hue-rotate(180deg) saturate(0.8); }
            30% { transform: translate(-2px, 2px); filter: hue-rotate(270deg) saturate(1.2); }
            40% { transform: translate(1px, -2px); filter: hue-rotate(45deg) saturate(1.8); }
            50% { transform: translate(-1px, -1px); filter: hue-rotate(315deg) saturate(0.5); }
            60% { transform: translate(2px, 1px); filter: hue-rotate(135deg) saturate(1.3); }
            70% { transform: translate(-1px, -1px); filter: hue-rotate(225deg) saturate(1.1); }
            80% { transform: translate(1px, 2px); filter: hue-rotate(60deg) saturate(1.6); }
            90% { transform: translate(-2px, -1px); filter: hue-rotate(300deg) saturate(0.9); }
        }
        
        /* Сканлайны */
        .scanlines::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0,255,65,0.03) 2px,
                rgba(0,255,65,0.03) 4px
            );
            pointer-events: none;
        }
        
        /* Хекс-сетка */
        .hex-grid {
            background-image: 
                radial-gradient(circle at 1px 1px, rgba(0,255,65,0.15) 1px, transparent 0);
            background-size: 20px 20px;
        }
        
        /* Пульсирующие элементы */
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pulse-glow {
            from { box-shadow: 0 0 20px rgba(0,255,65,0.2); }
            to { box-shadow: 0 0 40px rgba(0,255,65,0.4); }
        }
        
        /* Статистические полосы */
        .stat-bar {
            height: 4px;
            background: linear-gradient(90deg, #00ff41, #ff1493);
            position: relative;
            overflow: hidden;
        }
        
        .stat-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* ASCII Art Container */
        .ascii-art {
            font-family: 'Fira Code', monospace;
            white-space: pre;
            line-height: 1;
            font-size: 8px;
            color: #00ff41;
        }
        
        /* Хакерский режим */
        .hacker-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 20, 0, 0.95);
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .hacker-mode.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .hacker-matrix {
            position: absolute;
            font-family: 'Fira Code', monospace;
            font-size: 18px;
            color: #00ff41;
            text-shadow: 0 0 10px #00ff41;
            animation: matrix-fall linear infinite;
            white-space: nowrap;
        }
        
        @keyframes matrix-fall {
            from { transform: translateY(-100vh); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0.3; }
        }
        
        /* Режим отладки */
        .debug-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff41;
            color: #00ff41;
            padding: 20px;
            font-family: 'Fira Code', monospace;
            font-size: 12px;
            z-index: 10000;
            max-width: 300px;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }
        
        .debug-panel.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        /* Цветовые схемы */
        .theme-blue {
            --primary-color: #00bfff;
            --secondary-color: #0080ff;
            --accent-color: #004080;
        }
        
        .theme-red {
            --primary-color: #ff0040;
            --secondary-color: #ff4060;
            --accent-color: #800020;
        }
        
        .theme-purple {
            --primary-color: #8000ff;
            --secondary-color: #a040ff;
            --accent-color: #400080;
        }
        
        .theme-blue .neon-green,
        .theme-red .neon-green,
        .theme-purple .neon-green {
            color: var(--primary-color);
            text-shadow: 0 0 5px var(--primary-color), 0 0 10px var(--primary-color), 0 0 20px var(--primary-color), 0 0 40px var(--primary-color);
        }
        
        .theme-blue .border-green-500,
        .theme-red .border-green-500,
        .theme-purple .border-green-500 {
            border-color: var(--primary-color);
        }
        
        /* Анимация машинки (исправлено и оптимизировано) */
        .car-drive-away {
            animation: drive-away-desktop 3s ease-in-out forwards;
            transform-origin: center center;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            will-change: transform, filter;
        }
        
        @keyframes drive-away-desktop {
            0% { 
                transform: translate3d(0, 0, 0) scale(1) rotate(0deg); 
                filter: drop-shadow(0 0 10px #ff1493);
            }
            5% { 
                transform: translate3d(10px, 0, 0) scale(1.05) rotate(1deg); 
                filter: drop-shadow(0 0 12px #ff1493) brightness(1.1);
            }
            15% { 
                transform: translate3d(80px, 0, 0) scale(1.1) rotate(2deg); 
                filter: drop-shadow(0 0 15px #ff6600) hue-rotate(30deg);
            }
            25% { 
                transform: translate3d(200px, 0, 0) scale(0.8) rotate(1deg); 
                filter: drop-shadow(0 0 20px #ffff00) hue-rotate(60deg);
            }
            35% { 
                transform: translate3d(350px, 0, 0) scale(0.6) rotate(0deg); 
                filter: drop-shadow(0 0 25px #00ff41) hue-rotate(120deg);
            }
            50% { 
                transform: translate3d(500px, 0, 0) scale(0.4) rotate(0deg); 
                filter: drop-shadow(0 0 30px #00bfff) hue-rotate(180deg);
                opacity: 0.3;
            }
            65% { 
                transform: translate3d(350px, 0, 0) scale(0.6) rotate(0deg); 
                filter: drop-shadow(0 0 25px #8000ff) hue-rotate(240deg);
                opacity: 0.6;
            }
            75% { 
                transform: translate3d(200px, 0, 0) scale(0.8) rotate(-1deg); 
                filter: drop-shadow(0 0 20px #ff0080) hue-rotate(300deg);
                opacity: 0.8;
            }
            85% { 
                transform: translate3d(80px, 0, 0) scale(1.0) rotate(-2deg); 
                filter: drop-shadow(0 0 15px #ff4000) hue-rotate(330deg);
                opacity: 0.9;
            }
            95% { 
                transform: translate3d(10px, 0, 0) scale(1.05) rotate(-1deg); 
                filter: drop-shadow(0 0 12px #ff1493) brightness(1.1);
                opacity: 1;
            }
            100% { 
                transform: translate3d(0, 0, 0) scale(1) rotate(0deg); 
                filter: drop-shadow(0 0 10px #ff1493);
                opacity: 1;
            }
        }
        
        /* Простая анимация для мобильных устройств */
        .car-simple-animation {
            animation: car-simple-mobile 2s ease-in-out forwards;
            will-change: transform, filter;
            transform-origin: center center;
        }
        
        @keyframes car-simple-mobile {
            0% { 
                transform: translateX(0) scale(1) rotate(0deg); 
                filter: drop-shadow(0 0 10px #ff1493);
                opacity: 1;
            }
            10% { 
                transform: translateX(30px) scale(1.1) rotate(1deg); 
                filter: drop-shadow(0 0 15px #ff6600) hue-rotate(30deg);
                opacity: 1;
            }
            25% { 
                transform: translateX(80px) scale(0.9) rotate(1deg); 
                filter: drop-shadow(0 0 18px #ffff00) hue-rotate(60deg);
                opacity: 0.9;
            }
            40% { 
                transform: translateX(150px) scale(0.7) rotate(0deg); 
                filter: drop-shadow(0 0 22px #00ff41) hue-rotate(120deg);
                opacity: 0.7;
            }
            50% { 
                transform: translateX(200px) scale(0.5) rotate(0deg); 
                filter: drop-shadow(0 0 25px #00bfff) hue-rotate(180deg);
                opacity: 0.4;
            }
            60% { 
                transform: translateX(150px) scale(0.7) rotate(0deg); 
                filter: drop-shadow(0 0 22px #8000ff) hue-rotate(240deg);
                opacity: 0.7;
            }
            75% { 
                transform: translateX(80px) scale(0.9) rotate(-1deg); 
                filter: drop-shadow(0 0 18px #ff0080) hue-rotate(300deg);
                opacity: 0.9;
            }
            90% { 
                transform: translateX(30px) scale(1.1) rotate(-1deg); 
                filter: drop-shadow(0 0 15px #ff4000) hue-rotate(330deg);
                opacity: 1;
            }
            100% { 
                transform: translateX(0) scale(1) rotate(0deg); 
                filter: drop-shadow(0 0 10px #ff1493);
                opacity: 1;
            }
        }
        
        /* Дополнительные стили для машинки */
        #carImage {
            transition: transform 0.1s ease, filter 0.1s ease;
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            transform-origin: center center;
            will-change: transform, filter;
        }
        
        #carImage:active {
            transform: scale(0.95);
        }
        
        /* Плавные переходы между состояниями */
        #carImage:not(.car-drive-away):not(.car-simple-animation) {
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        
        /* Статус переключение */
        .status-offline {
            color: #ff0000 !important;
            text-shadow: 0 0 5px #ff0000, 0 0 10px #ff0000, 0 0 20px #ff0000 !important;
            animation: danger-pulse 1s infinite;
        }
        
        @keyframes danger-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Массовый глитч режим */
        .chaos-mode {
            animation: chaos-glitch 0.1s infinite;
        }
        
        @keyframes chaos-glitch {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            10% { transform: translate(-2px, 2px); filter: hue-rotate(36deg); }
            20% { transform: translate(-4px, -2px); filter: hue-rotate(72deg); }
            30% { transform: translate(2px, -4px); filter: hue-rotate(108deg); }
            40% { transform: translate(-3px, 1px); filter: hue-rotate(144deg); }
            50% { transform: translate(3px, -3px); filter: hue-rotate(180deg); }
            60% { transform: translate(-1px, 3px); filter: hue-rotate(216deg); }
            70% { transform: translate(4px, -1px); filter: hue-rotate(252deg); }
            80% { transform: translate(-4px, 4px); filter: hue-rotate(288deg); }
            90% { transform: translate(1px, -2px); filter: hue-rotate(324deg); }
            100% { transform: translate(0); filter: hue-rotate(360deg); }
        }
        
        /* 8-битный ретро стиль */
        .retro-mode {
            font-family: 'Courier New', monospace !important;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        
        .retro-mode * {
            font-family: 'Courier New', monospace !important;
            border-radius: 0 !important;
            text-shadow: none !important;
            box-shadow: none !important;
        }
        
        .retro-mode .neon-green,
        .retro-mode .neon-pink,
        .retro-mode .neon-blue {
            color: #00ff00 !important;
            text-shadow: none !important;
            font-weight: bold;
        }
        
        .retro-mode .cyber-card {
            background: #000080 !important;
            border: 2px solid #00ff00 !important;
            clip-path: none !important;
        }
        
        .retro-mode .cyber-button {
            background: #008000 !important;
            border: 2px solid #00ff00 !important;
            clip-path: none !important;
            color: #000000 !important;
            font-weight: bold;
        }
        
        .retro-mode body {
            background: #000080 !important;
            color: #00ff00 !important;
        }
        
        .retro-mode .stat-bar {
            background: #008000 !important;
        }
        
        .retro-mode img {
            filter: contrast(200%) brightness(0.8) saturate(0);
        }
        
        /* Прогресс-бар загрузки */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 70000;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .loading-overlay.active {
            display: flex;
        }
        
        .loading-container {
            text-align: center;
            max-width: 500px;
            padding: 40px;
            border: 2px solid #00ff41;
            background: rgba(0, 0, 0, 0.8);
            clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
        }
        
        .loading-title {
            color: #00ff41;
            font-family: 'Orbitron', monospace;
            margin-bottom: 30px;
            font-size: 24px;
            text-shadow: 0 0 10px #00ff41;
        }
        
        .loading-progress {
            width: 100%;
            height: 20px;
            background: #1a1a1a;
            border: 1px solid #00ff41;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, #00ff41, #00bf41, #00ff41);
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .loading-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -50px;
            width: 50px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: loading-shine 1.5s infinite;
        }
        
        @keyframes loading-shine {
            0% { left: -50px; }
            100% { left: 100%; }
        }
        
        .loading-text {
            color: #00ff41;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .loading-percentage {
            color: #00ff41;
            font-family: 'Fira Code', monospace;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 0 0 5px #00ff41;
        }
        
        /* Винтажный режим */
        .vintage-mode {
            filter: sepia(1) contrast(1.2) brightness(0.9) hue-rotate(20deg);
        }
        
        .vintage-mode body {
            background: linear-gradient(135deg, #2d1810 0%, #1a0f0a 50%, #0f0704 100%) !important;
            color: #d4af37 !important;
        }
        
        .vintage-mode .neon-green,
        .vintage-mode .neon-pink,
        .vintage-mode .neon-blue {
            color: #d4af37 !important;
            text-shadow: 0 0 5px #d4af37, 0 0 10px #d4af37 !important;
        }
        
        .vintage-mode .cyber-card {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.3), rgba(160, 82, 45, 0.2)) !important;
            border: 1px solid #cd853f !important;
        }
        
        .vintage-mode .cyber-button {
            background: linear-gradient(45deg, rgba(139, 69, 19, 0.5), rgba(160, 82, 45, 0.3)) !important;
            border: 1px solid #cd853f !important;
            color: #d4af37 !important;
        }
        
        .vintage-mode .stat-bar {
            background: linear-gradient(90deg, #cd853f, #daa520) !important;
        }
        
        /* Переобучение навыков */
        .skill-retraining {
            animation: skill-update 2s ease-in-out;
        }
        
        @keyframes skill-update {
            0% { transform: scale(1); opacity: 1; }
            25% { transform: scale(0.8); opacity: 0.6; filter: blur(1px); }
            50% { transform: scale(1.1); opacity: 0.8; filter: hue-rotate(180deg); }
            75% { transform: scale(0.9); opacity: 0.9; filter: blur(0.5px); }
            100% { transform: scale(1); opacity: 1; filter: none; }
        }
        
        .skill-percentage {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .skill-percentage.updating::after {
            content: 'UPDATING...';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 255, 65, 0.1);
            color: #00ff41;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            border: 1px solid #00ff41;
            animation: blink 0.5s infinite;
        }
        
        /* Всевидящее око - курсор */
        .eye-cursor {
            cursor: none !important;
        }
        
        .eye-cursor * {
            cursor: none !important;
        }
        
        .floating-eye {
            position: fixed;
            width: 40px;
            height: 40px;
            pointer-events: none;
            z-index: 10002;
            display: none;
            transition: transform 0.1s ease;
        }
        
        .floating-eye.active {
            display: block;
        }
        
        .eye-outer {
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, #ffffff 30%, #dddddd 70%, #aaaaaa 100%);
            border-radius: 50%;
            position: relative;
            border: 2px solid #00ff41;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
        }
        
        .eye-pupil {
            width: 16px;
            height: 16px;
            background: radial-gradient(circle, #000000 40%, #333333 100%);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.1s ease;
        }
        
        .eye-glint {
            width: 4px;
            height: 4px;
            background: #ffffff;
            border-radius: 50%;
            position: absolute;
            top: 4px;
            left: 6px;
        }
        
        .eye-veins {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.3;
        }
        
        .eye-veins::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 5px;
            width: 15px;
            height: 1px;
            background: #ff4444;
            transform: rotate(45deg);
        }
        
        .eye-veins::after {
            content: '';
            position: absolute;
            top: 25px;
            right: 8px;
            width: 12px;
            height: 1px;
            background: #ff4444;
            transform: rotate(-30deg);
        }
        
        /* Секретное поле команд */
        .secret-commands {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-width: 500px;
            opacity: 0;
            transition: all 0.4s ease;
            z-index: 10003;
            pointer-events: none; /* Блокируем события когда панель скрыта */
            visibility: hidden; /* Полностью скрываем элемент */
            filter: drop-shadow(0 0 0px #00ff41);
        }
        
        .secret-commands.active {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: all; /* Включаем события когда панель открыта */
            visibility: visible; /* Показываем элемент */
            filter: drop-shadow(0 0 20px #00ff41);
        }
        
        /* Убираем анимации на мобильных */
        @media (max-width: 768px) {
            .secret-commands.active {
                animation: none;
                filter: drop-shadow(0 0 10px #00ff41);
            }
            
            .command-title {
                animation: none;
                text-shadow: 0 0 10px #00ff41;
            }
            
            .command-input {
                font-size: 18px;
                padding: 18px 20px;
                border-width: 3px;
                background: rgba(0, 80, 0, 0.98);
            }
        }
        
        .command-container {
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #00ff41;
            padding: 20px;
            clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 15px, 100% 100%, 15px 100%, 0 calc(100% - 15px));
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        /* Упрощенная рамка без RGB анимации для мобильных */
        .command-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: #00ff41;
            clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 15px, 100% 100%, 15px 100%, 0 calc(100% - 15px));
            z-index: -1;
        }
        
        .command-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            clip-path: polygon(2px 2px, calc(100% - 17px) 2px, calc(100% - 2px) 17px, calc(100% - 2px) calc(100% - 2px), 17px calc(100% - 2px), 2px calc(100% - 17px));
            z-index: -1;
        }
        
        /* Упрощенные анимации для панели команд */
        @keyframes command-panel-glow {
            0% { 
                filter: drop-shadow(0 0 15px #00ff41);
            }
            100% { 
                filter: drop-shadow(0 0 25px #00ff41);
            }
        }
        
        .command-title {
            color: #00ff41;
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            margin-bottom: 15px;
            text-align: center;
            text-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41, 0 0 30px #00ff41;
            animation: command-title-pulse 1.5s ease-in-out infinite alternate;
            position: relative;
        }
        
        .command-title::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -10px;
            right: -10px;
            bottom: -5px;
            background: radial-gradient(ellipse, rgba(0, 255, 65, 0.1) 0%, transparent 70%);
            border-radius: 10px;
            z-index: -1;
        }
        
        .command-input {
            width: 100%;
            background: rgba(0, 50, 0, 0.95);
            border: 2px solid #00ff41;
            color: #00ff41;
            font-family: 'Fira Code', monospace;
            font-size: 16px;
            padding: 15px 18px;
            outline: none;
            transition: all 0.2s ease;
            text-transform: lowercase;
            position: relative;
            box-shadow: 0 0 8px rgba(0, 255, 65, 0.5);
            font-weight: 500;
        }
        
        .command-input::placeholder {
            color: rgba(0, 255, 65, 0.6);
            font-weight: normal;
        }
        
        .command-input:focus {
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.8);
            border-color: #00ff88;
            background: rgba(0, 80, 0, 0.98);
            color: #00ff88;
        }
        
        /* Упрощенные анимации для элементов команд */
        @keyframes command-title-pulse {
            0% { 
                text-shadow: 0 0 10px #00ff41;
            }
            100% { 
                text-shadow: 0 0 20px #00ff41;
            }
        }
        
        .command-input.error {
            border-color: #ff0000;
            background: rgba(50, 0, 0, 0.8);
            color: #ff4444;
            animation: command-error 0.5s ease;
        }
        
        .command-input.success {
            border-color: #00ff41;
            background: rgba(0, 50, 0, 0.8);
            animation: command-success 0.5s ease;
        }
        
        @keyframes command-error {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-3px); }
            100% { transform: translateX(0); }
        }
        
        @keyframes command-success {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(0, 255, 65, 0.8); }
            100% { transform: scale(1); }
        }
        
        .command-hint {
            color: #888;
            font-family: 'Fira Code', monospace;
            font-size: 10px;
            margin-top: 8px;
            text-align: center;
            opacity: 0.7;
        }
        
        .command-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 255, 65, 0.08);
            border: 2px solid #00ff41;
            color: #00ff41;
            width: 48px;
            height: 32px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10004;
            backdrop-filter: blur(5px);
            opacity: 0.8;
        }
        
        /* Убираем старые псевдоэлементы */
        .command-toggle::before,
        .command-toggle::after {
            display: none;
        }
        
        /* Контейнер клавиатуры */
        .keyboard-container {
            position: absolute;
            top: 4px;
            left: 4px;
            right: 4px;
            bottom: 4px;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        /* Ряды клавиш */
        .keyboard-row {
            display: flex;
            gap: 1px;
            justify-content: center;
        }
        
        /* Отдельные клавиши */
        .keyboard-key {
            width: 6px;
            height: 4px;
            background: #00ff41;
            border-radius: 1px;
            opacity: 0.8;
        }
        
        /* Первый ряд - 6 клавиш */
        .keyboard-row:nth-child(1) .keyboard-key {
            width: 5px;
            height: 3px;
        }
        
        /* Второй ряд - 5 клавиш */
        .keyboard-row:nth-child(2) .keyboard-key {
            width: 6px;
            height: 4px;
        }
        
        /* Третий ряд - 4 клавиши */
        .keyboard-row:nth-child(3) .keyboard-key {
            width: 7px;
            height: 4px;
        }
        
        /* Четвертый ряд - пробел */
        .keyboard-row:nth-child(4) .keyboard-key {
            width: 20px;
            height: 3px;
        }
        
        /* Компактная кнопка клавиатуры для мобильных */
        @media (max-width: 768px) {
            .command-toggle {
                width: 42px;
                height: 28px;
                bottom: 15px;
                right: 15px;
                border-width: 1px;
                box-shadow: 0 0 8px rgba(0, 255, 65, 0.2);
                border-radius: 5px;
                opacity: 0.7;
            }
            
            .keyboard-container {
                top: 4px;
                left: 4px;
                right: 4px;
                bottom: 4px;
                gap: 2px;
                justify-content: center;
            }
            
            .keyboard-row:nth-child(1) .keyboard-key {
                width: 4px;
                height: 2px;
            }
            
            .keyboard-row:nth-child(2) .keyboard-key {
                width: 5px;
                height: 3px;
            }
            
            .keyboard-row:nth-child(3) .keyboard-key {
                width: 6px;
                height: 3px;
            }
            
            .keyboard-row:nth-child(4) .keyboard-key {
                width: 18px;
                height: 2px;
            }
            
            .command-toggle:hover {
                width: 46px;
                height: 32px;
                opacity: 1;
                box-shadow: 0 0 15px rgba(0, 255, 65, 0.4);
            }
        }
        
        @media (max-width: 480px) {
            .command-toggle {
                width: 38px;
                height: 26px;
                bottom: 12px;
                right: 12px;
                border-width: 1px;
                box-shadow: 0 0 6px rgba(0, 255, 65, 0.15);
                border-radius: 4px;
                opacity: 0.6;
            }
            
            .keyboard-container {
                top: 3px;
                left: 3px;
                right: 3px;
                bottom: 3px;
                gap: 2px;
                justify-content: center;
                align-items: center;
            }
            
            .keyboard-row:nth-child(1) .keyboard-key {
                width: 3px;
                height: 2px;
            }
            
            .keyboard-row:nth-child(2) .keyboard-key {
                width: 4px;
                height: 2px;
            }
            
            .keyboard-row:nth-child(3) .keyboard-key {
                width: 5px;
                height: 2px;
            }
            
            .keyboard-row:nth-child(4) .keyboard-key {
                width: 16px;
                height: 2px;
            }
            
            .command-toggle:hover,
            .command-toggle:active {
                width: 42px;
                height: 30px;
                opacity: 1;
                box-shadow: 0 0 12px rgba(0, 255, 65, 0.3);
            }
        }
        
        .command-toggle:hover {
            background: rgba(0, 255, 65, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            transform: scale(1.05);
        }
        
        .command-toggle:hover .keyboard-key {
            background: #00ff88;
            box-shadow: 0 0 3px #00ff41;
            animation: key-pulse 0.6s ease infinite alternate;
            transition: all 0.2s ease;
        }
        
        /* Анимация клавиш при наведении */
        @keyframes key-pulse {
            from { 
                opacity: 0.8; 
                transform: scale(1);
                background: #00ff41;
            }
            to { 
                opacity: 1; 
                transform: scale(1.1);
                background: #00ff88;
            }
        }
        
        /* Разные задержки анимации для разных рядов */
        .command-toggle:hover .keyboard-row:nth-child(1) .keyboard-key {
            animation-delay: 0s;
        }
        
        .command-toggle:hover .keyboard-row:nth-child(2) .keyboard-key {
            animation-delay: 0.1s;
        }
        
        .command-toggle:hover .keyboard-row:nth-child(3) .keyboard-key {
            animation-delay: 0.2s;
        }
        
        .command-toggle:hover .keyboard-row:nth-child(4) .keyboard-key {
            animation-delay: 0.3s;
        }
        
        .command-toggle.active {
            background: rgba(0, 255, 65, 0.3);
            transform: scale(0.9);
        }
        
        /* Эффект взрыва для команд */
        .command-explosion {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10005;
        }
        
        .explosion-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ff41;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }
        
        @keyframes explode {
            0% { transform: scale(1) translate(0, 0); opacity: 1; }
            100% { transform: scale(0) translate(var(--dx), var(--dy)); opacity: 0; }
        }
        
        /* Дополнительные анимации для секретных команд */
        @keyframes neon-pulse {
            0% { filter: brightness(1) saturate(1); }
            50% { filter: brightness(2) saturate(3); }
            100% { filter: brightness(1) saturate(1); }
        }
        
        @keyframes spin {
            from { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
            to { transform: translate(-50%, -50%) rotate(360deg) scale(1.5); }
        }
        
        @keyframes quantum-flicker {
            0% { opacity: 1; }
            25% { opacity: 0; }
            50% { opacity: 1; }
            75% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        @keyframes dance {
            0% { transform: rotate(-5deg) translateY(0); }
            100% { transform: rotate(5deg) translateY(-10px); }
        }
        
        @keyframes mega-pulse {
            0% { transform: scale(1); filter: brightness(1); }
            100% { transform: scale(1.05); filter: brightness(1.5); }
        }
        
        @keyframes scan-beam {
            0% { left: -10px; }
            100% { left: 100vw; }
        }
        
        @keyframes warp-effect {
            0% { transform: rotateX(0deg) rotateY(0deg); }
            25% { transform: rotateX(15deg) rotateY(15deg); }
            50% { transform: rotateX(0deg) rotateY(30deg); }
            75% { transform: rotateX(-15deg) rotateY(15deg); }
            100% { transform: rotateX(0deg) rotateY(0deg); }
        }
        
        /* Стили для кнопки версии - максимальный приоритет */
        #versionClick {
            background: transparent !important;
            border: none !important;
            color: #00ff41 !important;
            text-decoration: underline !important;
            text-decoration-color: #00ff41 !important;
            font-family: 'Fira Code', monospace !important;
            font-size: 12px !important;
            font-weight: bold !important;
            cursor: pointer !important;
            user-select: none !important;
            z-index: 50000 !important;
            position: relative !important;
            outline: none !important;
            padding: 2px 4px !important;
            margin: 0 !important;
            transition: all 0.2s ease !important;
            display: inline !important;
            pointer-events: all !important;
        }
        
        #versionClick:hover {
            color: #00ff41 !important;
            text-decoration-color: #00ff41 !important;
        }
        
        #versionClick:active {
            transform: scale(0.95) !important;
            background: rgba(0, 255, 65, 0.2) !important;
        }
        
        /* Исправляем z-index для панели команд */
        .secret-commands {
            z-index: 10003 !important;
        }
        
        .secret-commands.active {
            z-index: 60000 !important;
        }
        
        .command-toggle {
            z-index: 60001 !important;
        }
        
        /* Кнопка переключения языка */
        #languageToggle {
            padding: 8px 16px;
            border: 1px solid rgba(100, 100, 100, 0.3);
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: inline-block;
            font-family: 'Fira Code', monospace;
            user-select: none;
            position: relative;
            overflow: hidden;
        }
        
        #languageToggle:hover {
            color: #00ff41 !important;
            border-color: #00ff41;
            background: rgba(0, 255, 65, 0.1);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
            transform: translateY(-2px);
        }
        
        #languageToggle:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }
        
        #languageToggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.2), transparent);
            transition: left 0.6s;
        }
        
        #languageToggle:hover::before {
            left: 100%;
        }
        
        /* Индикатор русского режима */
        .russian-mode #languageToggle {
            color: #00ff41 !important;
            border-color: #00ff41 !important;
            background: rgba(0, 255, 65, 0.15) !important;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.4) !important;
        }
        
        .russian-mode #languageToggle::after {
            content: ' 🇷🇺';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
        }
        
        /* Responsivные улучшения */
        @media (max-width: 768px) {
            .text-6xl { font-size: 2.5rem; }
            .text-4xl { font-size: 1.8rem; }
            .text-3xl { font-size: 1.5rem; }
            .text-lg { font-size: 1rem; }
            .grid-cols-3 { grid-template-columns: 1fr; }
            .debug-panel { max-width: 250px; font-size: 10px; }
            
            #languageToggle {
                padding: 10px 20px;
                font-size: 13px;
                margin-top: 8px;
            }
            
            /* Адаптивный ASCII текст для мобильных */
            .ascii-art {
                font-size: 10px;
                line-height: 1.2;
                word-break: break-word;
                white-space: pre-wrap;
            }
            
            /* Адаптивные заголовки контактов */
            .contact-title {
                font-size: 1.3rem !important;
                word-break: break-word;
                hyphens: auto;
            }
        }
        
        @media (max-width: 480px) {
            .text-lg { font-size: 0.9rem; }
            .text-3xl { font-size: 1.2rem; }
            .ascii-art {
                font-size: 9px;
                line-height: 1.1;
            }
            
            /* Еще более компактные заголовки для маленьких экранов */
            .contact-title {
                font-size: 1rem !important;
                line-height: 1.2;
            }
        }
        
        @media (max-width: 320px) {
            .contact-title {
                font-size: 0.9rem !important;
                word-spacing: -2px;
            }
        }
    </style>
</head>

<body class="cyber-bg scanlines">
    
    <!-- Матричный дождь -->
    <div class="matrix-rain" id="matrixRain"></div>
    
    <!-- Хакерский режим -->
    <div class="hacker-mode" id="hackerMode"></div>
    
    <!-- Панель отладки -->
    <div class="debug-panel" id="debugPanel">
        <div class="text-xs mb-2">[DEBUG MODE ACTIVE]</div>
        <div id="debugInfo">
            <div>FPS: <span id="fps">60</span></div>
            <div>Memory: <span id="memory">42MB</span></div>
            <div>CPU: <span id="cpu">15%</span></div>
            <div>Uptime: <span id="uptime">00:00:00</span></div>
            <div>Glitches: <span id="glitchCount">0</span></div>
            <div>Mode: <span id="currentMode">NORMAL</span></div>
            <div>Theme: <span id="currentTheme">GREEN</span></div>
        </div>
    </div>
    
    <!-- Прогресс-бар загрузки -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-container">
            <div class="loading-title">INIT_CONNECTION.EXE</div>
            <div class="loading-progress">
                <div class="loading-bar" id="loadingBar"></div>
            </div>
            <div class="loading-text" id="loadingText">Initializing connection...</div>
            <div class="loading-percentage" id="loadingPercentage">0%</div>
        </div>
    </div>
    
    <!-- Всевидящее око -->
    <div class="floating-eye" id="floatingEye">
        <div class="eye-outer">
            <div class="eye-pupil" id="eyePupil">
                <div class="eye-glint"></div>
            </div>
            <div class="eye-veins"></div>
        </div>
    </div>
    
    <!-- Секретные команды -->
    <div class="secret-commands" id="secretCommands">
        <div class="command-container">
            <div class="command-title">SECRET_COMMANDS.EXE</div>
            <input type="text" class="command-input" id="commandInput" placeholder="enter_command..." autocomplete="off" spellcheck="false">
            <div class="command-hint">Введите секретный код, например: "wake up, neo" </div>
        </div>
    </div>
    
    <!-- Кнопка переключения команд -->
    <div class="command-toggle" id="commandToggle" title="Открыть секретные команды">
        <div class="keyboard-container">
            <!-- Первый ряд - цифры -->
            <div class="keyboard-row">
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
            </div>
            <!-- Второй ряд - буквы -->
            <div class="keyboard-row">
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
            </div>
            <!-- Третий ряд - буквы -->
            <div class="keyboard-row">
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
                <div class="keyboard-key"></div>
            </div>
            <!-- Четвертый ряд - пробел -->
            <div class="keyboard-row">
                <div class="keyboard-key"></div>
            </div>
        </div>
    </div>
    
    <!-- Хекс-сетка фон -->
    <div class="hex-grid fixed inset-0 opacity-10"></div>
    
    <!-- Главный заголовок -->
    <header class="text-center py-16 relative">
        <div class="cyber-font">
            <h1 class="text-6xl font-black neon-green glitch flicker random-glitch mb-4" data-text="ANNA.EXE">
                ANNA.EXE
            </h1>
            <div class="neon-pink text-2xl mb-6 typewriter inline-block">
                PROGRAMMER-ARTIST.INIT()
            </div>
        </div>
        
        <!-- Простые надписи -->
        <div class="text-center mt-8">
            <div class="ascii-art neon-blue cursor-pointer text-lg leading-relaxed" id="asciiClickable">Добро пожаловать на мою страничку

на сайте присутствуют пасхалки попробуй их найти
(лучше на пк)</div>
            
            <div class="mt-4">
                <div class="text-sm text-gray-400 cursor-pointer hover:text-green-400 transition-colors duration-300" id="languageToggle" title="Переключить на простой русский язык">
                    если не шаришь в программировании то жми, язык поменяется
                </div>
            </div>
        </div>
        
        <!-- Статус система -->
        <div class="mt-8 flex justify-center space-x-8 text-sm mono-font">
            <div class="text-center">
                <div class="neon-green status-indicator" id="statusIndicator">[ONLINE]</div>
                <div class="text-gray-400">STATUS</div>
            </div>
            <div class="text-center color-indicator" data-theme="blue">
                <div class="neon-pink">[20]</div>
                <div class="text-gray-400">AGE</div>
            </div>
            <div class="text-center color-indicator" data-theme="red">
                <div class="neon-blue">[RU]</div>
                <div class="text-gray-400">LOCALE</div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4">
        
        <!-- Терминал секция -->
        <div class="mb-12">
            <div class="terminal cyber-card p-6">
                <div class="text-sm mb-4">
                    <div class="type-hidden type-anim-1"><span class="neon-pink">anna@cybernet</span><span class="neon-blue">:</span><span class="neon-green">~</span>$ whoami</div>
                    <div class="type-hidden type-anim-2"><span class="text-white">Programmer, Designer, Creator</span></div>
                    <div class="type-hidden type-anim-3"><span class="neon-pink">anna@cybernet</span><span class="neon-blue">:</span><span class="neon-green">~</span>$ ls -la skills/</div>
                    <div class="type-hidden type-anim-4"><span class="text-white">drwxr-xr-x  coding     [EXPERT]</span></div>
                    <div class="type-hidden type-anim-5"><span class="text-white">drwxr-xr-x  design     [ADVANCED]</span></div>
                    <div class="type-hidden type-anim-6"><span class="text-white">drwxr-xr-x  music      [CREATIVE]</span></div>
                    <div class="type-hidden type-anim-7"><span class="text-white">drwxr-xr-x  cars       [ENTHUSIAST]</span></div>
                    <div class="type-hidden type-anim-8 mt-2"><span class="neon-pink">anna@cybernet</span><span class="neon-blue">:</span><span class="neon-green">~</span>$ <span class="typing-cursor">system_info</span></div>
                </div>
            </div>
        </div>
        
        <!-- Основные модули -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            
            <!-- Модуль: Программирование -->
            <div class="cyber-card card-glitch p-6 pulse-glow" data-text="CODE.MODULE">
                <div class="flex items-center mb-4">
                    <div class="neon-green text-3xl mr-3" style="line-height: 1; display: flex; align-items: center;">▣</div>
                    <div>
                        <h3 class="cyber-font text-xl neon-green">CODE.MODULE</h3>
                        <div class="text-sm text-gray-400 mono-font">core_system.exe</div>
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div class="bg-black/50 p-3 border border-green-500/30">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-sm">JavaScript</span>
                            <span class="neon-green text-xs skill-percentage cursor-pointer" data-skill="js">95%</span>
                        </div>
                        <div class="stat-bar bg-gray-800">
                            <div class="stat-bar bg-gradient-to-r from-green-500 to-green-300" style="width: 95%" id="jsBar"></div>
                        </div>
                    </div>
                    
                    <div class="bg-black/50 p-3 border border-blue-500/30">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-sm">Python</span>
                            <span class="neon-blue text-xs skill-percentage cursor-pointer" data-skill="py">88%</span>
                        </div>
                        <div class="stat-bar bg-gray-800">
                            <div class="stat-bar bg-gradient-to-r from-blue-500 to-blue-300" style="width: 88%" id="pyBar"></div>
                        </div>
                    </div>
                    
                    <button class="cyber-button w-full mt-4 mono-font">
                        > ACCESS_PORTFOLIO.exe
                    </button>
                </div>
            </div>
            
            <!-- Модуль: Машины -->
            <div class="cyber-card card-glitch p-6" data-text="AUTO.MODULE">
                <div class="flex items-center mb-4">
                    <div class="neon-pink mr-3">
                        <img src="fawcar.png" alt="FAW VITA" class="w-12 h-8 object-cover rounded border border-pink-500/50 car-image cursor-pointer" id="carImage" style="filter: drop-shadow(0 0 10px #ff1493);">
                    </div>
                    <div>
                        <h3 class="cyber-font text-xl neon-pink">AUTO.MODULE</h3>
                        <div class="text-sm text-gray-400 mono-font">transport_sys.exe</div>
                    </div>
                </div>
                
                <div class="bg-black/70 p-4 border border-pink-500/30">
                    <div class="text-center">
                        <div class="neon-pink text-lg font-bold mb-2">FAW VITA</div>
                        <div class="text-sm text-gray-300 mb-2">CODENAME: "FAZERATTI"</div>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div>COLOR: <span class="text-red-400">RED</span></div>
                            <div>TYPE: <span class="text-yellow-400">CHINESE</span></div>
                            <div>SPEED: <span class="text-green-400">FAST</span></div>
                            <div>STATUS: <span class="text-blue-400">ACTIVE</span></div>
                        </div>
                        
                        <div class="mt-3 flex justify-center space-x-1">
                            <div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
                            <div class="w-2 h-2 bg-yellow-500 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                            <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Модуль: Творчество -->
            <div class="cyber-card card-glitch p-6" data-text="ART.MODULE">
                <div class="flex items-center mb-4">
                    <div class="neon-blue text-3xl mr-3" style="line-height: 1; display: flex; align-items: center;">◆</div>
                    <div>
                        <h3 class="cyber-font text-xl neon-blue">ART.MODULE</h3>
                        <div class="text-sm text-gray-400 mono-font">creative_suite.exe</div>
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div class="bg-gradient-to-r from-purple-900/30 to-pink-900/30 p-3 border border-purple-500/30">
                        <div class="flex items-center">
                            <span class="text-purple-400 mr-2">▶</span>
                            <div>
                                <div class="text-sm">Digital Art</div>
                                <div class="text-xs text-gray-400">design.protocols</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-r from-blue-900/30 to-green-900/30 p-3 border border-blue-500/30">
                        <div class="flex items-center">
                            <span class="text-blue-400 mr-2">♪</span>
                            <div>
                                <div class="text-sm">Music Covers</div>
                                <div class="text-xs text-gray-400">audio.synthesis</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Визуализатор звука -->
                    <div class="flex justify-center items-end space-x-1 mt-4 music-bars cursor-pointer" id="musicBars">
                        <div class="w-2 bg-gradient-to-t from-blue-500 to-green-400 rounded-sm animate-pulse music-bar" style="height: 12px; animation-delay: 0s"></div>
                        <div class="w-2 bg-gradient-to-t from-blue-500 to-green-400 rounded-sm animate-pulse music-bar" style="height: 20px; animation-delay: 0.1s"></div>
                        <div class="w-2 bg-gradient-to-t from-blue-500 to-green-400 rounded-sm animate-pulse music-bar" style="height: 16px; animation-delay: 0.2s"></div>
                        <div class="w-2 bg-gradient-to-t from-blue-500 to-green-400 rounded-sm animate-pulse music-bar" style="height: 24px; animation-delay: 0.3s"></div>
                        <div class="w-2 bg-gradient-to-t from-blue-500 to-green-400 rounded-sm animate-pulse music-bar" style="height: 18px; animation-delay: 0.4s"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Системная информация -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12">
            
            <!-- Персональные данные -->
            <div class="cyber-card card-glitch p-6" data-text="PERSONAL.DATA">
                <h3 class="cyber-font text-2xl neon-green mb-6">PERSONAL.DATA</h3>
                
                <div class="space-y-4 mono-font">
                    <div class="flex justify-between border-b border-green-500/20 pb-2">
                        <span class="text-gray-400">birth_date:</span>
                        <span class="neon-green">2004-12-16</span>
                    </div>
                    <div class="flex justify-between border-b border-green-500/20 pb-2">
                        <span class="text-gray-400">education:</span>
                        <span class="neon-blue">college.completed</span>
                    </div>
                    <div class="flex justify-between border-b border-green-500/20 pb-2">
                        <span class="text-gray-400">personality:</span>
                        <span class="neon-pink">positive.attempts</span>
                    </div>
                    <div class="flex justify-between border-b border-green-500/20 pb-2">
                        <span class="text-gray-400">attitude:</span>
                        <span class="text-yellow-400">kind.spirited</span>
                    </div>
                </div>
                
                <!-- Настроение индикатор -->
                <div class="mt-6">
                    <div class="text-sm text-gray-400 mb-2">mood.indicator</div>
                    <div class="flex space-x-2">
                        <div class="flex-1 h-2 bg-gray-800 relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-r from-green-500 to-yellow-400" style="width: 100%"></div>
                        </div>
                        <span class="text-xs neon-green">100%</span>
                    </div>
                </div>
            </div>
            
            <!-- Цитата системы -->
            <div class="cyber-card card-glitch p-6" data-text="SYSTEM.QUOTE">
                <h3 class="cyber-font text-2xl neon-pink mb-6">SYSTEM.QUOTE</h3>
                
                <div class="bg-black/70 p-4 border-l-4 border-pink-500">
                    <p class="italic text-gray-300 mb-4">
                        "Кнш не всегда получается быть позитивной, 
                        но ничего страшного, я стараюсь"
                    </p>
                    <div class="text-right text-sm text-pink-400">- anna.exe</div>
                </div>
                
                <div class="mt-6 bg-gradient-to-r from-pink-900/30 to-purple-900/30 p-4 border border-pink-500/30">
                    <p class="text-sm text-gray-300">
                        Давай считать звезды, а не деньги :3
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Контактная панель -->
        <div class="cyber-card card-glitch p-8 text-center mb-12" data-text="CONTACT.PROTOCOL">
            <h3 class="cyber-font text-3xl neon-green mb-6 glitch contact-title" data-text="CONTACT.PROTOCOL">
                CONTACT.PROTOCOL
            </h3>
            
            <div class="max-w-md mx-auto">
                <p class="text-lg text-gray-300 mb-6">
                    Пишите, не стесняйтесь!
                </p>
                
                <button class="cyber-button cyber-font text-lg px-8 py-4 flicker" id="initConnectionBtn">
                    > INIT_CONNECTION.exe
                </button>
                
                <div class="text-xs text-gray-500 mt-2 mono-font opacity-70">
                    зажми
                </div>
                
                <!-- Статус индикаторы -->
                <div class="flex justify-center space-x-4 mt-6 text-xs">
                    <div class="flex items-center">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"></div>
                        <span class="text-gray-400">ONLINE</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-2 h-2 bg-blue-500 rounded-full mr-1 animate-pulse"></div>
                        <span class="text-gray-400">READY</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-2 h-2 bg-pink-500 rounded-full mr-1 animate-pulse"></div>
                        <span class="text-gray-400">ACTIVE</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Подвал -->
        <footer class="text-center py-8 border-t border-green-500/30">
            <div class="mono-font text-sm text-gray-500">
                © 2025 ANNA.EXE - CYBERNET.PROTOCOL - ALL_RIGHTS.RESERVED
            </div>
            <div class="text-xs mt-2">
                <span class="text-green-400">[SYSTEM_UPTIME: ∞] [</span><button type="button" class="neon-green" id="versionClick" title="Кликни для винтажного режима!" onclick="console.log('VERSION BUTTON CLICKED!'); if(window.toggleVintageMode) window.toggleVintageMode(); event.stopPropagation();">VERSION: 2.0.25</button><span class="text-green-400">] [BUILD: STABLE]</span>
            </div>
        </footer>
    </div>
    
    <script type="module">
        // Матричный дождь - только для десктопа
        function createMatrixRain() {
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) {

                return;
            }
            
            const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+-=[]{}|;:,.<>?АННА';
            const container = document.getElementById('matrixRain');
            
            function createChar() {
                const char = document.createElement('div');
                char.className = 'matrix-char';
                char.textContent = chars[Math.floor(Math.random() * chars.length)];
                char.style.left = Math.random() * 100 + '%';
                char.style.animationDuration = Math.random() * 3 + 2 + 's';
                char.style.fontSize = Math.random() * 10 + 10 + 'px';
                container.appendChild(char);
                
                setTimeout(() => {
                    if (char.parentNode) {
                        char.parentNode.removeChild(char);
                    }
                }, 5000);
            }
            
            setInterval(createChar, 150); // Замедлили для производительности
        }
        
        // Запуск матричного дождя
        createMatrixRain();
        
        // === ПАСХАЛКИ ===
        
        // Переменные для отслеживания
        let debugMode = false;
        let hackerMode = false;
        let isOffline = false;
        let currentTheme = 'green';
        let glitchCounter = 0;
        let carClickCount = 0;
        let carClickTimer = null;
        let uptime = 0;
        let chaosMode = false;
        let retroMode = false;
        let isLoading = false;
        let vintageMode = false;
        let eyeMode = false;
        let commandsVisible = false;
        let russianMode = false;
        
        // Мобильные переменные
        let shakeThreshold = 15;
        let lastShakeTime = 0;
        let shakeDetected = false;
        
        // Хакерский режим
        function toggleHackerMode() {
            const hackerDiv = document.getElementById('hackerMode');
            hackerMode = !hackerMode;
            
            if (hackerMode) {
                hackerDiv.classList.add('active');
                document.getElementById('currentMode').textContent = 'HACKER';
                createHackerMatrix();
                
                // Вибрация при активации хакерского режима
                triggerVibration([50, 100, 50, 100, 300]);
                
                // Автовыключение через 3 секунды
                setTimeout(() => {
                    if (hackerMode) toggleHackerMode();
                }, 3000);
            } else {
                hackerDiv.classList.remove('active');
                hackerDiv.innerHTML = '';
                document.getElementById('currentMode').textContent = 'NORMAL';
            }
        }
        
        function createHackerMatrix() {
            const container = document.getElementById('hackerMode');
            const chars = '01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン';
            
            function createHackerChar() {
                if (!hackerMode) return;
                
                const char = document.createElement('div');
                char.className = 'hacker-matrix';
                char.textContent = chars[Math.floor(Math.random() * chars.length)];
                char.style.left = Math.random() * 100 + '%';
                char.style.animationDuration = Math.random() * 2 + 1 + 's';
                char.style.fontSize = Math.random() * 15 + 15 + 'px';
                container.appendChild(char);
                
                setTimeout(() => {
                    if (char.parentNode) {
                        char.parentNode.removeChild(char);
                    }
                }, 3000);
            }
            
            const interval = setInterval(() => {
                if (!hackerMode) {
                    clearInterval(interval);
                    return;
                }
                createHackerChar();
            }, 50);
        }
        
        // Режим отладки
        function toggleDebugMode() {
            const debugPanel = document.getElementById('debugPanel');
            debugMode = !debugMode;
            
            if (debugMode) {
                debugPanel.classList.add('active');
                startDebugUpdates();
            } else {
                debugPanel.classList.remove('active');
            }
        }
        
        function startDebugUpdates() {
            const updateDebug = () => {
                if (!debugMode) return;
                
                document.getElementById('fps').textContent = Math.floor(Math.random() * 10 + 55);
                document.getElementById('memory').textContent = Math.floor(Math.random() * 20 + 40) + 'MB';
                document.getElementById('cpu').textContent = Math.floor(Math.random() * 30 + 10) + '%';
                document.getElementById('glitchCount').textContent = glitchCounter;
                document.getElementById('currentTheme').textContent = currentTheme.toUpperCase();
                
                // Форматирование времени работы
                const hours = Math.floor(uptime / 3600);
                const minutes = Math.floor((uptime % 3600) / 60);
                const seconds = uptime % 60;
                document.getElementById('uptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                setTimeout(updateDebug, 1000);
            };
            updateDebug();
        }
        
        // Смена цветовых схем
        function changeColorScheme(theme) {
            document.body.classList.remove('theme-blue', 'theme-red', 'theme-purple');
            
            switch(theme) {
                case 'blue':
                    document.body.classList.add('theme-blue');
                    currentTheme = 'blue';
                    break;
                case 'red':
                    document.body.classList.add('theme-red');
                    currentTheme = 'red';
                    break;
                case 'purple':
                    document.body.classList.add('theme-purple');
                    currentTheme = 'purple';
                    break;
                default:
                    currentTheme = 'green';
            }
        }
        
        // Переключение статуса
        function toggleStatus() {
            const statusEl = document.getElementById('statusIndicator');
            isOffline = !isOffline;
            
            if (isOffline) {
                statusEl.textContent = '[OFFLINE]';
                statusEl.classList.add('status-offline');
                statusEl.classList.remove('neon-green');
            } else {
                statusEl.textContent = '[ONLINE]';
                statusEl.classList.remove('status-offline');
                statusEl.classList.add('neon-green');
            }
        }
        
        // Анимация машинки (исправлено для мобильных)
        function triggerCarAnimation() {
            const carImg = document.getElementById('carImage');
            if (!carImg) {
                console.log('Элемент машинки не найден для анимации!');
                return;
            }
            
            console.log('Запуск анимации машинки...');
            
            // Проверяем устройство
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/i.test(navigator.userAgent);
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // Сохраняем исходные стили
            const originalTransform = carImg.style.transform || '';
            const originalTransition = carImg.style.transition || '';
            const originalFilter = carImg.style.filter || 'drop-shadow(0 0 10px #ff1493)';
            
            // Очищаем все предыдущие анимации и стили
            carImg.classList.remove('car-drive-away', 'car-simple-animation');
            carImg.style.animation = '';
            carImg.style.transform = '';
            carImg.style.transition = '';
            carImg.style.filter = originalFilter;
            
            // Принудительный reflow для сброса состояния
            carImg.offsetHeight;
            
            console.log(`Устройство: iOS=${isIOS}, Android=${isAndroid}, Mobile=${isMobile}`);
            
            // Используем CSS анимацию для всех устройств
            if (isMobile) {
                console.log('Мобильная CSS анимация машинки');
                carImg.classList.add('car-simple-animation');
                
                setTimeout(() => {
                    carImg.classList.remove('car-simple-animation');
                    carImg.style.transform = originalTransform;
                    carImg.style.filter = originalFilter;
                    console.log('Мобильная анимация машинки завершена');
                }, 2000);
                
            } else {
                console.log('Десктопная CSS анимация машинки');
                carImg.classList.add('car-drive-away');
                
                setTimeout(() => {
                    carImg.classList.remove('car-drive-away');
                    carImg.style.transform = originalTransform;
                    carImg.style.filter = originalFilter;
                    console.log('Десктопная анимация машинки завершена');
                }, 3000);
            }
            
            // Звуковые эффекты поездки (имитация движения)
            if (isMobile) {
                console.log('Мобильные звуки машинки');
                // Звуки разгона
                setTimeout(() => playBeep(300, 200), 100);   // Старт двигателя
                setTimeout(() => playBeep(400, 150), 300);   // Разгон 1
                setTimeout(() => playBeep(500, 150), 600);   // Разгон 2
                setTimeout(() => playBeep(600, 200), 900);   // Максимальная скорость
                // Звуки торможения и возврата
                setTimeout(() => playBeep(500, 150), 1200);  // Замедление 1
                setTimeout(() => playBeep(400, 150), 1500);  // Замедление 2
                setTimeout(() => playBeep(350, 200), 1800);  // Остановка
            } else {
                console.log('Десктопные звуки машинки');
                // Расширенная звуковая схема для десктопа
                const engineSounds = [
                    {freq: 250, duration: 200, delay: 100},   // Запуск
                    {freq: 350, duration: 150, delay: 300},   // Разгон 1
                    {freq: 450, duration: 150, delay: 600},   // Разгон 2
                    {freq: 550, duration: 150, delay: 900},   // Разгон 3
                    {freq: 650, duration: 200, delay: 1200},  // Максимум
                    {freq: 550, duration: 150, delay: 1500},  // Замедление 1
                    {freq: 450, duration: 150, delay: 1800},  // Замедление 2
                    {freq: 350, duration: 150, delay: 2100},  // Замедление 3
                    {freq: 300, duration: 200, delay: 2400}   // Остановка
                ];
                
                engineSounds.forEach(sound => {
                    setTimeout(() => {
                        playBeep(sound.freq, sound.duration);
                    }, sound.delay);
                });
            }
            
            // Адаптивная вибрация
            console.log('Вибрация машинки');
            if (isIOS) {
                triggerVibration([250]); // Один длинный сигнал для iOS
            } else if (isAndroid) {
                triggerVibration([100, 50, 200, 50, 100, 50, 300]); // Полный паттерн для Android
            } else {
                triggerVibration([100, 50, 100]); // Простой паттерн для остальных
            }
            
            // Дополнительная обратная связь
            console.log('МАШИНКА ПОЕХАЛА! ФАЗЕРАТИ В ДВИЖЕНИИ!');
        }
        
        // Массовый глитч режим
        function toggleChaosMode() {
            chaosMode = !chaosMode;
            const allElements = document.querySelectorAll('*');
            
            if (chaosMode) {
                console.log('CHAOS MODE ACTIVATED!');
                allElements.forEach(el => {
                    if (el.tagName !== 'SCRIPT' && el.tagName !== 'STYLE') {
                        el.classList.add('chaos-mode');
                    }
                });
                
                // Дополнительные эффекты хаоса
                document.body.style.filter = 'contrast(1.5) saturate(2) hue-rotate(180deg)';
                
                // Интенсивная вибрация для режима хаоса
                triggerVibration([200, 100, 200, 100, 200, 100, 400]);
                
                // Дополнительная вибрация каждую секунду (для 3-секундного режима)
                const vibrateInterval = setInterval(() => {
                    if (chaosMode) {
                        triggerVibration([100, 50, 100]);
                    } else {
                        clearInterval(vibrateInterval);
                    }
                }, 1000);
                
                // Автовыключение через 3 секунды
                setTimeout(() => {
                    if (chaosMode) toggleChaosMode();
                }, 3000);
                
                // Звуковой хаос
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        playBeep(Math.random() * 2000 + 200, 100);
                    }, i * 100);
                }
            } else {
                console.log('CHAOS MODE DEACTIVATED');
                allElements.forEach(el => {
                    el.classList.remove('chaos-mode');
                });
                document.body.style.filter = '';
                
                // Финальная вибрация при выключении
                triggerVibration([300]);
            }
        }
        
        // 8-битный ретро режим
        function toggleRetroMode() {
            retroMode = !retroMode;
            
            if (retroMode) {
                console.log('RETRO MODE ACTIVATED!');
                document.body.classList.add('retro-mode');
                
                // Ретро вибрация
                triggerVibration([100, 50, 100, 50, 100, 50, 200]);
                
                // Ретро звуки
                const retroSounds = [400, 600, 400, 800, 600, 1000];
                retroSounds.forEach((freq, index) => {
                    setTimeout(() => {
                        playBeep(freq, 200);
                    }, index * 150);
                });
                
                // Меняем тексты на ретро стиль
                const title = document.querySelector('.random-glitch');
                if (title) {
                    title.setAttribute('data-original', title.textContent);
                    title.textContent = 'ANNA.EXE V1.0';
                }
                
                // Меняем ASCII арт
                const asciiArt = document.querySelector('.ascii-art');
                if (asciiArt) {
                    asciiArt.innerHTML = `8-BIT STYLE ACTIVATED`;
                }
                
            } else {
                console.log('RETRO MODE DEACTIVATED');
                document.body.classList.remove('retro-mode');
                
                // Восстанавливаем оригинальные тексты
                const title = document.querySelector('.random-glitch');
                if (title && title.getAttribute('data-original')) {
                    title.textContent = title.getAttribute('data-original');
                }
                
                // Восстанавливаем ASCII арт
                const asciiArt = document.querySelector('.ascii-art');
                if (asciiArt) {
                    asciiArt.innerHTML = `Добро пожаловать на мою страничку

на сайте присутствуют пасхалки попробуй их найти
(лучше искать на пк)`;
                }
                
                // Вибрация при выключении
                triggerVibration([200]);
            }
        }
        
        // Вибрация для мобильных устройств (улучшенная, без дублирования звуков)
        let lastVibrationTime = 0;
        const vibrationCooldown = 200; // минимальная пауза между вибрациями
        
        function triggerVibration(pattern = [200]) {
            const now = Date.now();
            
            // Предотвращаем частые повторы
            if (now - lastVibrationTime < vibrationCooldown) {
                return;
            }
            lastVibrationTime = now;
            
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (navigator.vibrate && !isIOS) {
                // Для Android используем обычную вибрацию
                navigator.vibrate(pattern);
                console.log('Вибрация активирована (Android)');
            } else if (isIOS && isMobile) {
                // Для iOS используем ОДИН звуковой сигнал вместо паттерна
                console.log('iOS обнаружен - одиночный звуковой сигнал');
                playBeep(800, 100); // Только один короткий сигнал
            } else {
                // Fallback для остальных
                console.log('Стандартная обратная связь');
            }
        }
        
        // Альтернативный способ активации режима хаоса для мобильных (двойной тап по статусу)
        let doubleTapTimer = null;
        let tapCount = 0;
        
        function initMobileChaosMode() {
            const statusElement = document.getElementById('statusIndicator');
            
            // Добавляем обработчик двойного тапа для мобильного режима хаоса
            statusElement?.addEventListener('click', (e) => {
                tapCount++;
                
                if (doubleTapTimer) clearTimeout(doubleTapTimer);
                
                if (tapCount === 2) {

                    triggerVibration([100, 50, 100, 50, 200]);
                    toggleChaosMode();
                    tapCount = 0;
                } else {
                    doubleTapTimer = setTimeout(() => {
                        tapCount = 0;
                    }, 300);
                }
            });
        }
        
        // Звуковые эффекты (оптимизировано для мобильных)
        let audioContext = null;
        let lastBeepTime = 0;
        const beepCooldown = 150; // минимальная пауза между звуками
        
        function playBeep(frequency = 800, duration = 200) {
            const now = Date.now();
            
            // Предотвращаем частые повторы звуков
            if (now - lastBeepTime < beepCooldown) {
                return;
            }
            lastBeepTime = now;
            
            try {
                // Переиспользуем audioContext для лучшей производительности
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                
                // Проверяем состояние audioContext для мобильных браузеров
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
                oscillator.type = 'square';
                
                // Уменьшаем громкость для мобильных
                const volume = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ? 0.05 : 0.1;
                
                gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration / 1000);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + duration / 1000);
                
                // Освобождаем ресурсы
                setTimeout(() => {
                    try {
                        oscillator.disconnect();
                        gainNode.disconnect();
                    } catch(e) {}
                }, duration + 100);
                
            } catch(e) {
                console.log('Audio context not supported:', e);
            }
        }
        
        // === ОБРАБОТЧИКИ СОБЫТИЙ ===
        
        // Клавиатурные комбинации
        document.addEventListener('keydown', (e) => {
            // Ctrl+Shift+H - Хакерский режим
            if (e.ctrlKey && e.shiftKey && (e.key === 'H' || e.code === 'KeyH')) {
                e.preventDefault();
                toggleHackerMode();
                console.log('Хакерский режим активирован!');
            }
            
            // Ctrl+Alt+D - Режим отладки
            if (e.ctrlKey && e.altKey && (e.key === 'D' || e.code === 'KeyD')) {
                e.preventDefault();
                toggleDebugMode();
                console.log('Режим отладки переключен!');
            }
            
            // Ctrl+Shift+C - Массовый глитч режим
            if (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.code === 'KeyC')) {
                e.preventDefault();
                toggleChaosMode();
                console.log('Режим хаоса активирован!');
            }
        });
        
        // Тройной клик на машинку (исправлено и упрощено)
        const carImageElement = document.getElementById('carImage');
        
        if (carImageElement) {

            
            // Функция обработки клика/тача
            function handleCarInteraction(e) {
                // Предотвращаем конфликты с анимацией
                if (carImageElement.classList.contains('car-drive-away') || 
                    carImageElement.classList.contains('car-simple-animation')) {
                    console.log('Анимация уже идет, пропускаем клик');
                    return;
                }
                
                e.preventDefault();
                e.stopPropagation();
                
                console.log(`Взаимодействие с машинкой: ${carClickCount + 1}/3`);
                
                carClickCount++;
                
                if (carClickTimer) clearTimeout(carClickTimer);
                
                // Визуальная обратная связь при каждом клике
                const carImg = carImageElement;
                
                // Сохраняем исходное состояние
                const originalTransform = carImg.style.transform || '';
                const originalFilter = carImg.style.filter || 'drop-shadow(0 0 10px #ff1493)';
                
                // Мгновенная реакция на клик
                carImg.style.transition = 'transform 0.1s ease, filter 0.1s ease';
                carImg.style.transform = 'scale(1.15)';
                carImg.style.filter = 'drop-shadow(0 0 15px #ff1493) brightness(1.3)';
                
                setTimeout(() => {
                    carImg.style.transform = originalTransform;
                    carImg.style.filter = originalFilter;
                }, 100);
                
                if (carClickCount >= 3) {
                    console.log('Тройной клик достигнут - запуск анимации!');
                    
                    // Небольшая задержка для завершения визуальной обратной связи
                    setTimeout(() => {
                        triggerCarAnimation();
                    }, 150);
                    
                    carClickCount = 0;
                    
                    // Особая вибрация при активации
                    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                    if (isIOS) {
                        triggerVibration([300]); // Длинная вибрация для iOS
                    } else {
                        triggerVibration([100, 50, 100, 50, 200]); // Паттерн для Android
                    }
                    
                    console.log('МАШИНКА АКТИВИРОВАНА!');
                    
                } else {
                    // Короткая обратная связь при промежуточных кликах
                    triggerVibration([60]);
                    playBeep(500 + carClickCount * 200, 100);
                    
                    carClickTimer = setTimeout(() => {
                        console.log('Таймер сброшен, начинаем заново');
                        carClickCount = 0;
                    }, 1000);
                }
            }
            
            // Touch события для мобильных
            let touchStartTime = 0;
            
            carImageElement.addEventListener('touchstart', (e) => {
                touchStartTime = Date.now();
            }, { passive: true });
            
            carImageElement.addEventListener('touchend', (e) => {
                const touchDuration = Date.now() - touchStartTime;
                
                // Только если это быстрый тап (не долгое нажатие)
                if (touchDuration < 400) {
                    handleCarInteraction(e);
                }
            }, { passive: false });
            
            // Click события для десктопа
            carImageElement.addEventListener('click', handleCarInteraction);
            
            // Стили для лучшей отзывчивости
            carImageElement.style.touchAction = 'manipulation';
            carImageElement.style.userSelect = 'none';
            carImageElement.style.webkitUserSelect = 'none';
            carImageElement.style.webkitTouchCallout = 'none';
            carImageElement.style.cursor = 'pointer';
            

        } else {
            console.log('Элемент машинки не найден!');
        }
        
        // Долгое нажатие на заголовок для хакерского режима (мобильная версия)
        let titlePressTimer = null;
        const titleElement = document.querySelector('.random-glitch');
        
        // Touch события для мобильных
        titleElement?.addEventListener('touchstart', (e) => {
            e.preventDefault();
            titlePressTimer = setTimeout(() => {

                toggleHackerMode();
            }, 1500); // 1.5 секунды для мобильных
        });
        
        titleElement?.addEventListener('touchend', (e) => {
            e.preventDefault();
            if (titlePressTimer) {
                clearTimeout(titlePressTimer);
                titlePressTimer = null;
            }
        });
        
        titleElement?.addEventListener('touchcancel', (e) => {
            if (titlePressTimer) {
                clearTimeout(titlePressTimer);
                titlePressTimer = null;
            }
        });
        
        // Mouse события для десктопа (сохраняем существующую функциональность)
        titleElement?.addEventListener('mousedown', () => {
            titlePressTimer = setTimeout(() => {

                toggleHackerMode();
            }, 1500);
        });
        
        titleElement?.addEventListener('mouseup', () => {
            if (titlePressTimer) {
                clearTimeout(titlePressTimer);
                titlePressTimer = null;
            }
        });
        
        titleElement?.addEventListener('mouseleave', () => {
            if (titlePressTimer) {
                clearTimeout(titlePressTimer);
                titlePressTimer = null;
            }
        });
        
        // Долгое нажатие на статус
        let statusPressTimer = null;
        const statusElement = document.getElementById('statusIndicator');
        
        // Touch события для мобильных
        statusElement?.addEventListener('touchstart', (e) => {
            e.preventDefault();
            statusPressTimer = setTimeout(() => {
                toggleStatus();
                triggerVibration([100, 50, 100]); // Вибрация при смене статуса
            }, 1000);
        });
        
        statusElement?.addEventListener('touchend', (e) => {
            e.preventDefault();
            if (statusPressTimer) {
                clearTimeout(statusPressTimer);
                statusPressTimer = null;
            }
        });
        
        // Mouse события для десктопа
        statusElement?.addEventListener('mousedown', () => {
            statusPressTimer = setTimeout(() => {
                toggleStatus();
                triggerVibration([100, 50, 100]);
            }, 1000);
        });
        
        statusElement?.addEventListener('mouseup', () => {
            if (statusPressTimer) {
                clearTimeout(statusPressTimer);
                statusPressTimer = null;
            }
        });
        
        statusElement?.addEventListener('mouseleave', () => {
            if (statusPressTimer) {
                clearTimeout(statusPressTimer);
                statusPressTimer = null;
            }
        });
        
        // Музыкальная система
        let isPlaying = false;
        let currentAudio = null;
        let musicContext = null;
        let musicAnalyser = null;
        let musicDataArray = null;
        let animationFrame = null;
        let musicInterval = null;
        
        // Список треков (можно добавить свои)
        const musicTracks = [
            {
                name: "C-F-A Melody",
                url: null,
                type: "generated"
            },
            {
                name: "До-Фа-Ля",
                url: null,
                type: "generated"
            },
            {
                name: "Triad Harmony",
                url: null, 
                type: "generated"
            }
        ];
        
        let currentTrackIndex = 0;
        
        // Мелодия из трёх нот: До, Фа, Ля (улучшено для мобильных)
        function generateSimpleMusic() {
            // Специальная проверка для мобильных браузеров
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
            
            try {
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                
                // Принудительно активируем audioContext для мобильных
                if (audioContext.state === 'suspended') {
                    audioContext.resume().then(() => {
                        console.log('AudioContext возобновлен для мобильного устройства');
                    }).catch(e => {
                        console.log('Ошибка возобновления AudioContext:', e);
                    });
                }
                
                // Ноты: До, Фа, Ля (C5, F5, A5)
                const notes = [523.25, 698.46, 880.00]; // C5, F5, A5 в Гц
                let currentNote = 0;
                
                const playNote = () => {
                    if (!isPlaying) return;
                    
                    try {
                        // Создаем одну ноту
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        // Мягкий синусоидальный тон
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(notes[currentNote], audioContext.currentTime);
                        
                        // Адаптивная громкость для мобильных
                        const volume = isMobile ? 0.05 : 0.03;
                        gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 1.0);
                        
                        // Воспроизводим ноту 1 секунда
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 1.0);
                        
                        // Переключаемся между нотами по порядку: До → Фа → Ля → До → ...
                        currentNote = (currentNote + 1) % notes.length;
                        
                        // Освобождаем ресурсы
                        setTimeout(() => {
                            try {
                                oscillator.disconnect();
                                gainNode.disconnect();
                            } catch(e) {}
                        }, 1100);
                        
                        console.log(`Проиграна нота ${currentNote === 0 ? 'Ля' : currentNote === 1 ? 'До' : 'Фа'}`);
                        
                    } catch(e) {
                        console.log('Ошибка воспроизведения ноты:', e);
                    }
                };
                
                // Первая нота сразу
                playNote();
                
                // Остальные ноты с интервалом
                const musicInterval = setInterval(() => {
                    if (!isPlaying) {
                        clearInterval(musicInterval);
                        return;
                    }
                    playNote();
                }, isMobile ? 1500 : 1800); // Быстрее для мобильных
                
                return musicInterval;
                
            } catch(e) {
                console.log('Ошибка инициализации музыки:', e);
                // Fallback - просто анимация без звука
                return setInterval(() => {
                    if (!isPlaying) {
                        clearInterval(musicInterval);
                        return;
                    }
                    console.log('Музыка (только анимация) - звук недоступен');
                }, 1800);
            }
        }
        
        // Анимация полосок под музыку
        function animateMusicBars() {
            if (!isPlaying) return;
            
            const bars = document.querySelectorAll('.music-bar');
            
            // Имитация аудио анализа
            bars.forEach((bar, index) => {
                const height = 12 + Math.random() * 20;
                const brightness = 1 + Math.random() * 0.5;
                
                bar.style.height = height + 'px';
                bar.style.filter = `brightness(${brightness})`;
                
                // Цветовые переливы
                const hue = (Date.now() / 20 + index * 60) % 360;
                bar.style.background = `linear-gradient(to top, hsl(${hue}, 100%, 50%), hsl(${hue + 60}, 100%, 70%))`;
            });
            
            animationFrame = requestAnimationFrame(animateMusicBars);
        }
        
        // Остановка музыки (исправлено)
        function stopMusic() {
            isPlaying = false;
            
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }
            
            if (musicInterval) {
                clearInterval(musicInterval);
                musicInterval = null;
            }
            
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
                animationFrame = null;
            }
            
            // Возвращаем полоски в исходное состояние
            const bars = document.querySelectorAll('.music-bar');
            bars.forEach((bar, index) => {
                const originalHeights = [12, 20, 16, 24, 18];
                bar.style.height = originalHeights[index] + 'px';
                bar.style.filter = '';
                bar.style.background = '';
            });
            
            console.log('Музыка остановлена');
        }
        
        // Воспроизведение музыки (исправлено для мобильных)
        function playMusic() {
            if (isPlaying) {
                stopMusic();
                return;
            }
            
            isPlaying = true;
            console.log('Воспроизведение простой мелодии...');
            
            // Показываем информацию о треке
            const track = musicTracks[currentTrackIndex];
            console.log(`Сейчас играет: ${track.name}`);
            
            // Простое уведомление для мобильных
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Простое уведомление для мобильных
                console.log(`Мобильное воспроизведение: ${track.name}`);
            } else {
                // Полное уведомление для десктопа
                const notification = document.createElement('div');
                notification.innerHTML = `
                    <div style="
                        position: fixed; 
                        top: 20px; 
                        left: 50%; 
                        transform: translateX(-50%); 
                        background: rgba(0,0,0,0.9); 
                        color: #00ff41; 
                        padding: 15px 25px; 
                        border: 2px solid #00ff41; 
                        border-radius: 5px; 
                        font-family: 'Fira Code', monospace; 
                        z-index: 10000;
                        animation: slideDown 0.5s ease;
                    ">
                        🎵 Playing: ${track.name}<br>
                        <small>Кликни снова для остановки</small>
                    </div>
                    <style>
                        @keyframes slideDown {
                            from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                            to { transform: translateX(-50%) translateY(0); opacity: 1; }
                        }
                    </style>
                `;
                document.body.appendChild(notification);
                
                // Убираем уведомление через 3 секунды
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.style.animation = 'slideDown 0.5s ease reverse';
                        setTimeout(() => {
                            if (notification.parentNode) {
                                notification.parentNode.removeChild(notification);
                            }
                        }, 500);
                    }
                }, 3000);
            }
            
            // Запускаем простую мелодию с улучшенной мобильной поддержкой
            musicInterval = generateSimpleMusic();
            
            // Запускаем анимацию
            animateMusicBars();
            
            // Вибрация при запуске
            triggerVibration([100]);
            
            // Автостоп через 20 секунд для мобильных, 30 для десктопа
            const autoStopTime = isMobile ? 20000 : 30000;
            setTimeout(() => {
                if (isPlaying) {
                    stopMusic();
                }
            }, autoStopTime);
        }
        
        // Смена трека
        function nextTrack() {
            if (isPlaying) {
                stopMusic();
            }
            currentTrackIndex = (currentTrackIndex + 1) % musicTracks.length;
            console.log(`Выбран трек: ${musicTracks[currentTrackIndex].name}`);
        }
        
        // Клик на музыкальные полоски (обновлено с мобильной поддержкой)
        document.getElementById('musicBars')?.addEventListener('click', async () => {
            // Специальная активация для мобильных браузеров
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
            
            if (isMobile && audioContext && audioContext.state === 'suspended') {
                try {
                    await audioContext.resume();

                } catch(e) {
                    console.log('Не удалось активировать AudioContext:', e);
                }
            }
            
            // Воспроизводим/останавливаем музыку
            playMusic();
        });
        
        // Долгое нажатие для смены трека
        let musicPressTimer = null;
        const musicBars = document.getElementById('musicBars');
        
        // Touch события
        musicBars?.addEventListener('touchstart', (e) => {
            e.preventDefault();
            musicPressTimer = setTimeout(() => {
                nextTrack();
                triggerVibration([200, 100, 200]);
                playBeep(1200, 200);
            }, 1000);
        });
        
        musicBars?.addEventListener('touchend', (e) => {
            e.preventDefault();
            if (musicPressTimer) {
                clearTimeout(musicPressTimer);
                musicPressTimer = null;
            }
        });
        
        // Mouse события
        musicBars?.addEventListener('mousedown', () => {
            musicPressTimer = setTimeout(() => {
                nextTrack();
                triggerVibration([200, 100, 200]);
                playBeep(1200, 200);
            }, 1000);
        });
        
        musicBars?.addEventListener('mouseup', () => {
            if (musicPressTimer) {
                clearTimeout(musicPressTimer);
                musicPressTimer = null;
            }
        });
        
        musicBars?.addEventListener('mouseleave', () => {
            if (musicPressTimer) {
                clearTimeout(musicPressTimer);
                musicPressTimer = null;
            }
        });
        
        // Клик на цветовые индикаторы
        document.querySelectorAll('.color-indicator').forEach(indicator => {
            indicator.addEventListener('click', () => {
                const theme = indicator.getAttribute('data-theme');
                if (theme) {
                    changeColorScheme(theme);
                } else {
                    // Если нет темы, переключаем на фиолетовую
                    changeColorScheme('purple');
                }
                
                // Вибрация при смене темы
                triggerVibration([50, 50, 50]);
                
                // Звуковой сигнал смены темы
                playBeep(1200, 100);
            });
        });
        
        // Случайные глитчи для заголовка (оптимизировано для мобильных)
        function randomNameGlitch() {
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // Реже на мобильных
            if (isMobile && Math.random() < 0.8) return;
            
            glitchCounter++;
            const title = document.querySelector('.random-glitch');
            if (title && Math.random() < 0.15) {
                title.classList.add('glitching');
                
                // Случайное искажение текста в зависимости от режима
                const annaGlitchTexts = ['4NN4.3X3', 'ΛИИΛ.ΣΧΣ', 'ȺȺȺȺ.ΞΞΞ', 'ΔΠΔΠ.ΨΨΨ', 'АННА.ЭКС'];
                const artansyGlitchTexts = ['4RT4N5Y.3X3', 'ΛΠΤΛΠΣΥ.ΣΧΣ', 'ȺƦŦȺNΣҰ.ΞΞΞ', 'ΔЯŦΔΠΣҰ.ΨΨΨ', 'АРТАНСИ.ЭКС'];
                
                const originalText = title.textContent;
                const isCurrentlyArtansy = originalText.includes('ARTANSY');
                const glitchTexts = isCurrentlyArtansy ? artansyGlitchTexts : annaGlitchTexts;
                
                if (Math.random() < 0.3) {
                    title.textContent = glitchTexts[Math.floor(Math.random() * glitchTexts.length)];
                    setTimeout(() => {
                        title.textContent = originalText;
                    }, 150);
                }
                
                setTimeout(() => {
                    title.classList.remove('glitching');
                }, 300);
            }
        }
        
        // Случайные глитчи для карточек (отключены на мобильных)
        function randomCardGlitch() {
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) return; // Отключаем на мобильных
            
            glitchCounter++;
            const cards = document.querySelectorAll('.card-glitch');
            if (cards.length === 0) return;
            const randomCard = cards[Math.floor(Math.random() * cards.length)];
            if (!randomCard) return;
            
            if (randomCard && Math.random() < 0.25) {
                randomCard.classList.add('glitching');
                
                // Добавляем эффекты искажения
                const effects = [
                    'invert(1)',
                    'hue-rotate(180deg) saturate(2)',
                    'contrast(2) brightness(0.5)',
                    'sepia(1) hue-rotate(300deg)',
                    'grayscale(1) contrast(2)',
                    'blur(1px) contrast(1.5)'
                ];
                
                const randomEffect = effects[Math.floor(Math.random() * effects.length)];
                randomCard.style.filter = randomEffect;
                
                // Случайное перемещение
                const xOffset = (Math.random() - 0.5) * 4;
                const yOffset = (Math.random() - 0.5) * 4;
                randomCard.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
                
                setTimeout(() => {
                    randomCard.classList.remove('glitching');
                    randomCard.style.filter = '';
                    randomCard.style.transform = '';
                }, 500);
            }
        }
        
        // Запуск случайных глитчей (реже на мобильных)
        const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const nameGlitchInterval = isMobile ? 3000 : 1500;
        const cardGlitchInterval = isMobile ? 4000 : 1200;
        
        setInterval(randomNameGlitch, nameGlitchInterval);
        setInterval(randomCardGlitch, cardGlitchInterval);
        
        // Таймер времени работы
        setInterval(() => {
            uptime++;
        }, 1000);
        
        // Пасхалка переключения ANNA.EXE <-> Artansy.exe
        let isArtansyMode = false;
        
        // Интенсивные глитчи при клике на заголовок с пасхалкой
        document.querySelector('.random-glitch')?.addEventListener('click', () => {
            const title = document.querySelector('.random-glitch');
            
            // Серия быстрых глитчей
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    randomNameGlitch();
                }, i * 100);
            }
            
            // Пасхалка переключения имени
            setTimeout(() => {
                if (!isArtansyMode) {
                    // Переключаем на ARTANSY.EXE
                    title.textContent = 'ARTANSY.EXE';
                    title.setAttribute('data-text', 'ARTANSY.EXE');
                    title.classList.add('neon-pink');
                    title.classList.remove('neon-green');
                    
                    // Эффект взрыва глитчей
                    title.style.textShadow = `
                        0 0 5px #ff1493, 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 40px #ff1493,
                        2px 2px 0 #00bfff, -2px -2px 0 #00ff41
                    `;
                    
                    isArtansyMode = true;
                } else {
                    // Возвращаем обратно на ANNA.EXE
                    title.textContent = 'ANNA.EXE';
                    title.setAttribute('data-text', 'ANNA.EXE');
                    title.classList.add('neon-green');
                    title.classList.remove('neon-pink');
                    
                    // Возвращаем обычный зеленый эффект
                    title.style.textShadow = '0 0 5px #00ff41, 0 0 10px #00ff41, 0 0 20px #00ff41, 0 0 40px #00ff41';
                    
                    isArtansyMode = false;
                }
            }, 600);
            
            // Глитч всех карточек одновременно
            setTimeout(() => {
                const cards = document.querySelectorAll('.card-glitch');
                cards.forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('glitching');
                        
                        // Дополнительные эффекты для пасхалки
                        if (isArtansyMode) {
                            card.style.filter = 'hue-rotate(320deg) saturate(1.5) contrast(1.2)';
                        }
                        
                        setTimeout(() => {
                            card.classList.remove('glitching');
                            card.style.filter = '';
                        }, 300);
                    }, index * 100);
                });
            }, 200);
        });
        
        // Старый глитч эффект для заголовка (оставляем как дополнительный)
        setInterval(() => {
            const title = document.querySelector('.random-glitch');
            if (title && Math.random() < 0.05) {
                const currentColor = title.classList.contains('neon-pink') ? '#ff1493' : '#00ff41';
                title.style.textShadow = `
                    ${Math.random() * 10 - 5}px ${Math.random() * 10 - 5}px 0 #ff1493,
                    ${Math.random() * 10 - 5}px ${Math.random() * 10 - 5}px 0 #00bfff,
                    0 0 10px ${currentColor}
                `;
                setTimeout(() => {
                    const restoreColor = title.classList.contains('neon-pink') ? '#ff1493' : '#00ff41';
                    title.style.textShadow = `0 0 5px ${restoreColor}, 0 0 10px ${restoreColor}, 0 0 20px ${restoreColor}, 0 0 40px ${restoreColor}`;
                }, 100);
            }
        }, 3000);
        
        // Интерактивность для кнопок
        document.querySelectorAll('.cyber-button').forEach(button => {
            button.addEventListener('click', (e) => {
                // Визуальный эффект
                button.style.animation = 'none';
                button.style.transform = 'scale(0.95)';
                button.style.boxShadow = '0 0 50px rgba(0,255,65,0.8)';
                
                setTimeout(() => {
                    button.style.animation = '';
                    button.style.transform = '';
                    button.style.boxShadow = '';
                }, 200);
                
                // Проверяем, если это кнопка портфолио
                if (button.textContent.includes('ACCESS_PORTFOLIO') || button.textContent.includes('portfolio')) {
                    console.log('Переход на портфолио!');
                    // Простая обратная связь
                    triggerVibration([100]);
                    playBeep(1000, 150);
                    // Небольшая задержка для эффекта, затем переход
                    setTimeout(() => {
                        window.open('https://artansy.github.io/portfolio/', '_blank');
                    }, 300);
                }
                
                // Проверяем, если это кнопка подключения
                if (button.textContent.includes('INIT_CONNECTION') || button.id === 'initConnectionBtn') {
                    console.log('🔗 Клик на кнопку подключения');
                    // Простой отклик
                    triggerVibration([50]);
                    playBeep(800, 100);
                }
            });
        });
        
        // Анимация статистических полос
        document.querySelectorAll('.stat-bar > div').forEach(bar => {
            const width = bar.style.width;
            bar.style.width = '0%';
            setTimeout(() => {
                bar.style.transition = 'width 2s ease';
                bar.style.width = width;
            }, 500);
        });
        
        // Убираем старые глитчи карточек, они заменены на новые выше
        
        // Интерактивность для машинки
        const carImageSpinner = document.querySelector('img[alt="FAW VITA"]');
        if (carImageSpinner) {
            carImageSpinner.addEventListener('click', () => {
                carImageSpinner.style.transform = 'scale(1.2) rotate(360deg)';
                carImageSpinner.style.transition = 'transform 0.5s ease';
                
                setTimeout(() => {
                    carImageSpinner.style.transform = '';
                }, 500);
            });
        }
        
        // Клик по ASCII арту для ретро режима
        document.getElementById('asciiClickable')?.addEventListener('click', () => {
            toggleRetroMode();
        });
        
        // === НОВЫЕ ПАСХАЛКИ ===
        
        // 1. Прогресс-бар загрузки при долгом нажатии на INIT_CONNECTION
        function showLoadingProgress() {
            if (isLoading) return;
            
            isLoading = true;
            const overlay = document.getElementById('loadingOverlay');
            const bar = document.getElementById('loadingBar');
            const text = document.getElementById('loadingText');
            const percentage = document.getElementById('loadingPercentage');
            
            overlay.classList.add('active');
            
            const messages = [
                'Initializing connection...',
                'подкладываем кирпичи под колеса...',
                'шашкуем по дороге...',
                'включаем громко музыку...',
                'показываем хейтерам фак...',
                'сплетничаем...',
                'Almost ready...',
                'Connection established!'
            ];
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 8 + 3;
                if (progress > 100) progress = 100;
                
                bar.style.width = progress + '%';
                percentage.textContent = Math.floor(progress) + '%';
                
                // Меняем текст на разных этапах
                const messageIndex = Math.min(Math.floor(progress / 12.5), messages.length - 1);
                text.textContent = messages[messageIndex];
                
                // Вибрация при прогрессе
                if (progress % 20 < 5) {
                    triggerVibration([50]);
                }
                
                // Звуки прогресса
                if (progress % 25 < 5) {
                    playBeep(400 + progress * 5, 50);
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // Финальная вибрация
                    triggerVibration([100, 50, 100, 50, 200]);
                    
                    // Финальный звук
                    setTimeout(() => playBeep(1000, 300), 100);
                    
                    setTimeout(() => {
                        overlay.classList.remove('active');
                        bar.style.width = '0%';
                        percentage.textContent = '0%';
                        text.textContent = 'Initializing connection...';
                        isLoading = false;
                        
                        // Перенаправление на Telegram
                        console.log('Перенаправляем на Telegram: https://t.me/artansy');
                        const opened = window.open('https://t.me/artansy', '_blank');
                        if (!opened) {
                            console.log('Всплывающее окно заблокировано, пробуем location.href');
                            window.location.href = 'https://t.me/artansy';
                        } else {
                            console.log('Новая вкладка открыта успешно');
                        }
                    }, 1500);
                }
            }, 350);
        }
        
        // Долгое нажатие на кнопку INIT_CONNECTION
        let connectionPressTimer = null;
        const connectionBtn = document.getElementById('initConnectionBtn');
        
        // Touch события для мобильных
        connectionBtn?.addEventListener('touchstart', (e) => {
            e.preventDefault();
            connectionPressTimer = setTimeout(() => {
                console.log('Долгое нажатие на INIT_CONNECTION - запуск загрузки!');
                showLoadingProgress();
            }, 1500);
        });
        
        connectionBtn?.addEventListener('touchend', (e) => {
            e.preventDefault();
            if (connectionPressTimer) {
                clearTimeout(connectionPressTimer);
                connectionPressTimer = null;
            }
        });
        
        // Mouse события для десктопа
        connectionBtn?.addEventListener('mousedown', () => {
            connectionPressTimer = setTimeout(() => {
                console.log('Долгое нажатие на INIT_CONNECTION - запуск загрузки!');
                showLoadingProgress();
            }, 1500);
        });
        
        connectionBtn?.addEventListener('mouseup', () => {
            if (connectionPressTimer) {
                clearTimeout(connectionPressTimer);
                connectionPressTimer = null;
            }
        });
        
        connectionBtn?.addEventListener('mouseleave', () => {
            if (connectionPressTimer) {
                clearTimeout(connectionPressTimer);
                connectionPressTimer = null;
            }
        });
        
        // 2. Переобучение навыков при клике на проценты
        function retrainSkill(skillElement, skillType) {
            if (skillElement.classList.contains('updating')) return;
            
            skillElement.classList.add('updating');
            const parentContainer = skillElement.closest('div').closest('div');
            parentContainer.classList.add('skill-retraining');
            
            // Звуки переобучения
            const retrainSounds = [600, 800, 1000, 1200, 1000, 800];
            retrainSounds.forEach((freq, index) => {
                setTimeout(() => {
                    playBeep(freq, 100);
                }, index * 200);
            });
            
            // Вибрация переобучения
            triggerVibration([100, 50, 100, 50, 100, 50, 200]);
            
            setTimeout(() => {
                // Генерируем новое случайное значение
                const currentValue = parseInt(skillElement.textContent);
                const newValue = Math.max(60, Math.min(99, currentValue + (Math.random() * 20 - 10)));
                const roundedValue = Math.round(newValue);
                
                skillElement.textContent = roundedValue + '%';
                
                // Обновляем прогресс-бар
                const bar = document.getElementById(skillType + 'Bar');
                if (bar) {
                    bar.style.width = roundedValue + '%';
                }
                
                // Убираем анимации
                skillElement.classList.remove('updating');
                parentContainer.classList.remove('skill-retraining');
                
                console.log(`Навык ${skillType} переобучен: ${roundedValue}%`);
                
                // Финальная вибрация
                triggerVibration([200, 100, 200]);
                
                // Финальный звук
                playBeep(1400, 200);
                
            }, 2000);
        }
        
        // Обработчики кликов по процентам навыков
        document.querySelectorAll('.skill-percentage').forEach(skillEl => {
            skillEl.addEventListener('click', () => {
                const skillType = skillEl.getAttribute('data-skill');
                retrainSkill(skillEl, skillType);
            });
        });
        
        // 3. Винтажный режим при клике на версию
        function toggleVintageMode() {
            vintageMode = !vintageMode;
            
            if (vintageMode) {
                console.log('VINTAGE MODE ACTIVATED!');
                document.body.classList.add('vintage-mode');
                
                // Винтажная вибрация
                triggerVibration([200, 100, 200, 100, 300]);
                
                // Винтажные звуки (низкие частоты)
                const vintageSounds = [250, 300, 350, 300, 250];
                vintageSounds.forEach((freq, index) => {
                    setTimeout(() => {
                        playBeep(freq, 300);
                    }, index * 200);
                });
                
                // Меняем версию
                document.getElementById('versionClick').textContent = 'VERSION: 1.9.85';
                
                // Добавляем винтажный эффект заголовку
                const title = document.querySelector('.random-glitch');
                if (title) {
                    title.style.fontFamily = '"Times New Roman", serif';
                    title.style.fontWeight = 'normal';
                }
                
            } else {
                console.log('VINTAGE MODE DEACTIVATED');
                document.body.classList.remove('vintage-mode');
                
                // Возвращаем версию
                document.getElementById('versionClick').textContent = 'VERSION: 2.0.25';
                
                // Восстанавливаем заголовок
                const title = document.querySelector('.random-glitch');
                if (title) {
                    title.style.fontFamily = '';
                    title.style.fontWeight = '';
                }
                
                // Вибрация при выключении
                triggerVibration([100]);
            }
        }
        
        // Инициализация обработчика версии
        function initVersionClickHandler() {

            
            // Ищем элемент версии разными способами
            let versionElement = document.getElementById('versionClick');

            
            if (!versionElement) {
                // Альтернативный поиск по содержимому
                const spans = document.querySelectorAll('span');
                for (let span of spans) {
                    if (span.textContent.includes('VERSION: 2.0.25')) {
                        versionElement = span;
                        console.log('Найден элемент по тексту:', versionElement);
                        break;
                    }
                }
            }
            
            if (versionElement) {

                
                // Очищаем старые обработчики
                versionElement.onclick = null;
                versionElement.removeEventListener('click', () => {});
                
                // Простой onclick обработчик
                versionElement.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    toggleVintageMode();
                };
                
                // Дублируем addEventListener для надежности
                versionElement.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();

                    toggleVintageMode();
                }, { capture: true });
                
                // Улучшенная визуальная обратная связь
                versionElement.style.cursor = 'pointer';
                versionElement.style.userSelect = 'none';
                versionElement.style.position = 'relative';
                versionElement.style.zIndex = '1000';
                versionElement.style.display = 'inline-block';
                versionElement.style.minWidth = '120px';
                versionElement.style.textAlign = 'center';
                
                versionElement.addEventListener('mouseenter', function() {
                    console.log('Наведение на версию');
                    this.style.backgroundColor = 'rgba(255, 255, 0, 0.3)';
                    this.style.transform = 'scale(1.1)';
                    this.style.transition = 'all 0.2s ease';
                    this.style.borderRadius = '5px';
                    this.style.padding = '4px 8px';
                    this.style.boxShadow = '0 0 10px rgba(255, 255, 0, 0.5)';
                });
                
                versionElement.addEventListener('mouseleave', function() {
                    console.log('Уход курсора с версии');
                    this.style.backgroundColor = '';
                    this.style.transform = '';
                    this.style.borderRadius = '';
                    this.style.padding = '';
                    this.style.boxShadow = '';
                });
                
                

                return true;
            } else {

                document.querySelectorAll('span').forEach((span, index) => {
                    console.log(`Span ${index}:`, span.textContent);
                });
                return false;
            }
        }
        
        // Множественные попытки инициализации

        
        // Попытка 1: сразу
        setTimeout(() => {
            console.log('--- Попытка 1 (100мс) ---');
            if (!initVersionClickHandler()) {
                // Попытка 2: через 500мс
                setTimeout(() => {
                    console.log('--- Попытка 2 (500мс) ---');
                    if (!initVersionClickHandler()) {
                        // Попытка 3: через 1 секунду
                        setTimeout(() => {
                            console.log('--- Попытка 3 (1000мс) ---');
                            if (!initVersionClickHandler()) {
                                // Создаем альтернативный элемент
                                const footer = document.querySelector('footer');
                                if (footer) {
                                    const altButton = document.createElement('div');
                                    altButton.innerHTML = '[<span style="color: #ffff00; cursor: pointer; text-decoration: underline;">VINTAGE_MODE</span>]';
                                    altButton.style.marginTop = '10px';
                                    altButton.onclick = toggleVintageMode;
                                    footer.appendChild(altButton);
   
                                }
                            }
                        }, 1000);
                    }
                }, 500);
            }
        }, 100);
        
        // === ПЕРЕКЛЮЧЕНИЕ ЯЗЫКА ===
        
        // Словарь переводов с технических терминов на простой русский
        const translations = {
            // Заголовки и названия
            'ANNA.EXE': 'АННА',
            'ARTANSY.EXE': 'АРТАНСИ', 
            'PROGRAMMER-ARTIST.INIT()': 'ПРОГРАММИСТ И ХУДОЖНИЦА',
            'CODE.MODULE': 'ПРОГРАММИРОВАНИЕ',
            'AUTO.MODULE': 'МАШИНА',
            'ART.MODULE': 'ТВОРЧЕСТВО',
            'PERSONAL.DATA': 'ЛИЧНАЯ ИНФОРМАЦИЯ',
            'SYSTEM.QUOTE': 'МОИ МЫСЛИ',
            'CONTACT.PROTOCOL': 'СВЯЗАТЬСЯ СО МНОЙ',
            'SECRET_COMMANDS.EXE': 'СЕКРЕТНЫЕ КОМАНДЫ',
            
            // Терминальные команды
            'core_system.exe': 'основная программа',
            'transport_sys.exe': 'транспортная система',
            'creative_suite.exe': 'творческие программы',
            
            // Статусы и описания
            '[ONLINE]': '[В СЕТИ]',
            '[OFFLINE]': '[НЕ В СЕТИ]',
            'STATUS': 'СТАТУС',
            'AGE': 'ВОЗРАСТ',
            'LOCALE': 'СТРАНА',
            'birth_date:': 'дата рождения:',
            'education:': 'образование:',
            'personality:': 'характер:',
            'attitude:': 'отношение:',
            'college.completed': 'колледж окончен',
            'positive.attempts': 'стараюсь быть позитивной',
            'kind.spirited': 'добрая и весёлая',
            'mood.indicator': 'индикатор настроения',
            
            // Навыки и проценты
            'JavaScript': 'ДжаваСкрипт (язык программирования)',
            'Python': 'Питон (язык программирования)',
            'HTML/CSS': 'HTML/CSS (создание сайтов)',
            
            // Проекты
            'Neural Network': 'Нейронная сеть',
            'AI-powered classification system': 'Система искусственного интеллекта',
            'Crypto Tracker': 'Отслеживание криптовалют',
            'Real-time cryptocurrency monitor': 'Следит за ценами биткоина',
            'Security Scanner': 'Сканер безопасности',
            'Network vulnerability assessment': 'Проверка компьютерной безопасности',
            'STATUS: COMPLETED': 'СТАТУС: ЗАВЕРШЕНО',
            'STATUS: IN PROGRESS': 'СТАТУС: В РАБОТЕ',
            'STATUS: PLANNING': 'СТАТУС: ПЛАНИРУЮ',
            
            // Машина
            'CODENAME: "FAZERATTI"': 'КОДОВОЕ ИМЯ: "FAZERATTI"',
            'COLOR:': 'ЦВЕТ:',
            'TYPE:': 'СТРАНА:',
            'SPEED:': 'СКОРОСТЬ:',
            'RED': 'КРАСНЫЙ',
            'CHINESE': 'КИТАЙ (в душе японец)',
            'FAST': 'БЫСТРАЯ',
            'ACTIVE': 'АКТИВНА',
            
            // Творчество
            'Digital Art': 'Цифровое искусство',
            'design.protocols': 'программы для дизайна',
            'Music Covers': 'Музыкальные каверы',
            'audio.synthesis': 'создание музыки',
            
            // Кнопки
            '> ACCESS_PORTFOLIO.exe': '> ПОСМОТРЕТЬ МОИ РАБОТЫ',
            '> INIT_CONNECTION.exe': '> НАПИСАТЬ МНЕ',
            '> EMAIL.BAT': '> ЭЛЕКТРОННАЯ ПОЧТА',
            '> DISCORD.EXE': '> ДИСКОРД',
            
            // Терминал
            'whoami': 'кто я',
            'Programmer, Designer, Creator': 'Программист, Дизайнер, Творческий человек',
            'ls -la skills/': 'показать мои навыки',
            'drwxr-xr-x  coding     [EXPERT]': 'программирование     [ЭКСПЕРТ]',
            'drwxr-xr-x  design     [ADVANCED]': 'дизайн              [ПРОДВИНУТЫЙ]',
            'drwxr-xr-x  music      [CREATIVE]': 'музыка              [ТВОРЧЕСКИЙ]',
            'drwxr-xr-x  cars       [ENTHUSIAST]': 'машины              [ЛЮБИТЕЛЬ]',
            'system_info': 'информация о системе',
            
            // Подвал
            'CYBERNET.PROTOCOL': 'КИБЕР-ПРОТОКОЛ',
            'ALL_RIGHTS.RESERVED': 'ВСЕ ПРАВА ЗАЩИЩЕНЫ',
            'SYSTEM_UPTIME:': 'ВРЕМЯ РАБОТЫ:',
            'VERSION:': 'ВЕРСИЯ:',
            'BUILD:': 'СБОРКА:',
            'STABLE': 'СТАБИЛЬНАЯ',
            
            // Загрузка
            'Initializing connection...': 'Подключение...',
            'подкладываем кирпичи под колеса...': 'готовимся к поездке...',
            'шашкуем по дороге...': 'едем быстро...',
            'включаем громко музыку...': 'включаем музыку...',
            'показываем хейтерам фак...': 'игнорируем завистников...',
            'сплетничаем...': 'болтаем...',
            'Almost ready...': 'Почти готово...',
            'Connection established!': 'Соединение установлено!',
            
            // Отладка
            '[DEBUG MODE ACTIVE]': '[РЕЖИМ ОТЛАДКИ АКТИВЕН]',
            'FPS:': 'КАДРОВ В СЕКУНДУ:',
            'Memory:': 'Память:',
            'CPU:': 'ПРОЦЕССОР:',
            'Uptime:': 'Время работы:',
            'Glitches:': 'Глитчи:',
            'Mode:': 'Режим:',
            'Theme:': 'Тема:',
            'NORMAL': 'ОБЫЧНЫЙ',
            'HACKER': 'ХАКЕР',
            'GREEN': 'ЗЕЛЁНЫЙ',
            
            // Команды
            'enter_command...': 'введи команду...',
            'Введите секретный код': 'Введи секретный код'
        };
        
        // Функция переключения языка
        function toggleRussianMode() {
            russianMode = !russianMode;
            const toggleButton = document.getElementById('languageToggle');
            
            if (russianMode) {
                console.log('РУССКИЙ РЕЖИМ АКТИВИРОВАН!');
                
                // Переводим все элементы на простой русский
                document.querySelectorAll('*').forEach(element => {
                    // Пропускаем script и style теги
                    if (element.tagName === 'SCRIPT' || element.tagName === 'STYLE') return;
                    
                    // Переводим текстовое содержимое
                    if (element.childNodes) {
                        element.childNodes.forEach(node => {
                            if (node.nodeType === Node.TEXT_NODE && node.textContent.trim()) {
                                const originalText = node.textContent.trim();
                                if (translations[originalText]) {
                                    node.textContent = node.textContent.replace(originalText, translations[originalText]);
                                }
                            }
                        });
                    }
                    
                    // Переводим атрибуты data-text для глитч эффектов
                    if (element.hasAttribute('data-text')) {
                        const dataText = element.getAttribute('data-text');
                        if (translations[dataText]) {
                            element.setAttribute('data-text', translations[dataText]);
                        }
                    }
                    
                    // Переводим placeholder
                    if (element.hasAttribute('placeholder')) {
                        const placeholder = element.getAttribute('placeholder');
                        if (translations[placeholder]) {
                            element.setAttribute('placeholder', translations[placeholder]);
                        }
                    }
                    
                    // Переводим title
                    if (element.hasAttribute('title')) {
                        const title = element.getAttribute('title');
                        if (translations[title]) {
                            element.setAttribute('title', translations[title]);
                        }
                    }
                });
                
                // Обновляем кнопку переключения
                toggleButton.textContent = 'вернуться к изначальному языку';
                toggleButton.style.color = '#00ff41';
                
                // Звук и вибрация при активации
                playBeep(800, 200);
                triggerVibration([100, 50, 100]);
                
                // Визуальный эффект перевода
                document.body.style.filter = 'hue-rotate(60deg)';
                setTimeout(() => {
                    document.body.style.filter = '';
                }, 1000);
                
            } else {
                console.log('ВОЗВРАТ К ЯЗЫКУ');
                
                // Перезагружаем страницу для возврата к оригинальному тексту
                location.reload();
            }
        }
        
        // Обработчик клика на переключатель языка
        document.getElementById('languageToggle')?.addEventListener('click', () => {
            toggleRussianMode();
        });
        
        // Альтернативные способы активации (для мобильных)
        document.getElementById('languageToggle')?.addEventListener('touchstart', (e) => {
            e.preventDefault();
            // Добавляем небольшую задержку для предотвращения случайных нажатий
            setTimeout(() => {
                toggleRussianMode();
            }, 100);
        });
        
        // Глобальные функции для отладки
        window.toggleVintageMode = toggleVintageMode;
        window.initVersionClickHandler = initVersionClickHandler;
        window.toggleRussianMode = toggleRussianMode;
        window.testVintageMode = () => {
            toggleVintageMode();
        };
        
        // 4. Всевидящее око - курсор-глаз
        function toggleEyeMode() {
            eyeMode = !eyeMode;
            
            if (eyeMode) {
                console.log('ВСЕВИДЯЩЕЕ ОКО АКТИВИРОВАНО!');
                document.body.classList.add('eye-cursor');
                document.getElementById('floatingEye').classList.add('active');
                
                // Мистическая вибрация
                triggerVibration([100, 200, 100, 200, 100, 200, 400]);
                
                // Мистические звуки
                const mysticalSounds = [150, 200, 250, 300, 350, 300, 250, 200];
                mysticalSounds.forEach((freq, index) => {
                    setTimeout(() => {
                        playBeep(freq, 200);
                    }, index * 150);
                });
                
                // Автоотключение через 15 секунд
                setTimeout(() => {
                    if (eyeMode) toggleEyeMode();
                }, 15000);
                
            } else {
                console.log('Всевидящее око деактивировано');
                document.body.classList.remove('eye-cursor');
                document.getElementById('floatingEye').classList.remove('active');
                
                // Вибрация при выключении
                triggerVibration([300]);
            }
        }
        
        // Движение глаза за курсором
        document.addEventListener('mousemove', (e) => {
            if (!eyeMode) return;
            
            const eye = document.getElementById('floatingEye');
            const pupil = document.getElementById('eyePupil');
            
            // Позиционируем глаз рядом с курсором
            const offsetX = 20;
            const offsetY = -20;
            eye.style.left = (e.clientX + offsetX) + 'px';
            eye.style.top = (e.clientY + offsetY) + 'px';
            
            // Центр глаза относительно позиции курсора
            const eyeCenterX = e.clientX + offsetX + 20; // 20px - половина ширины глаза
            const eyeCenterY = e.clientY + offsetY + 20;  // 20px - половина высоты глаза
            
            // Вычисляем угол от центра глаза к курсору
            const deltaX = e.clientX - eyeCenterX;
            const deltaY = e.clientY - eyeCenterY;
            
            // Ограничиваем движение зрачка в пределах глаза
            const maxDistance = 8; // максимальное расстояние от центра
            const distance = Math.min(maxDistance, Math.sqrt(deltaX * deltaX + deltaY * deltaY) * 0.3);
            
            const angle = Math.atan2(deltaY, deltaX);
            const pupilX = Math.cos(angle) * distance;
            const pupilY = Math.sin(angle) * distance;
            
            pupil.style.transform = `translate(calc(-50% + ${pupilX}px), calc(-50% + ${pupilY}px))`;
        });
        
        // Активация всевидящего ока - секретная комбинация: тройной клик по отладочной панели
        let debugClickCount = 0;
        let debugClickTimer = null;
        
        document.getElementById('debugPanel')?.addEventListener('click', () => {
            debugClickCount++;
            
            if (debugClickTimer) clearTimeout(debugClickTimer);
            
            if (debugClickCount === 3) {
                toggleEyeMode();
                debugClickCount = 0;
            } else {
                debugClickTimer = setTimeout(() => {
                    debugClickCount = 0;
                }, 1000);
            }
        });
        
        // === МАТРИЧНАЯ ПАСХАЛКА ===
        
        function executeMatrixWakeUp() {
            console.log('МАТРИЦА АКТИВИРОВАНА!');
            
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // Создаем матричный оверлей с адаптивными стилями
            const matrixOverlay = document.createElement('div');
            matrixOverlay.id = 'matrixWakeUp';
            matrixOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: #000000;
                z-index: 70000;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                font-family: 'Fira Code', monospace;
                color: #00ff41;
                opacity: 0;
                transition: opacity 1s ease;
                overflow: hidden;
                padding: ${isMobile ? '20px' : '0'};
                box-sizing: border-box;
            `;
            
            document.body.appendChild(matrixOverlay);
            
            // Плавное появление
            setTimeout(() => {
                matrixOverlay.style.opacity = '1';
            }, 100);
            
            // Этап 1: Просыпайся, Нео... (адаптивный)
            const wakeUpText = document.createElement('div');
            wakeUpText.style.cssText = `
                font-size: ${isMobile ? '2rem' : '3rem'};
                text-align: center;
                margin-bottom: ${isMobile ? '1.5rem' : '2rem'};
                text-shadow: 0 0 20px #00ff41;
                opacity: 0;
                transform: translateY(50px);
                transition: all 2s ease;
                max-width: 90%;
                line-height: 1.2;
            `;
            wakeUpText.textContent = 'Просыпайся, Нео...';
            matrixOverlay.appendChild(wakeUpText);
            
            // Адаптивные звук и вибрация пробуждения
            setTimeout(() => {
                if (isMobile) {
                    playBeep(200, 800); // Короче для мобильных
                    triggerVibration([400, 150, 400]);
                } else {
                    playBeep(200, 1000);
                    triggerVibration([500, 200, 500]);
                }
            }, 500);
            
            // Показываем текст пробуждения
            setTimeout(() => {
                wakeUpText.style.opacity = '1';
                wakeUpText.style.transform = 'translateY(0)';
            }, 1000);
            
            // Этап 2: Адаптивный матричный дождь
            setTimeout(() => {
                if (isMobile) {
                    createMobileMatrixRain(matrixOverlay);
                } else {
                    createIntenseMatrixRain(matrixOverlay);
                }
                playBeep(150, 500);
            }, 3000);
            
            // Этап 3: Голос Морфеуса (адаптивный)
            setTimeout(() => {
                const morpheusText = document.createElement('div');
                morpheusText.style.cssText = `
                    font-size: ${isMobile ? '1.1rem' : '1.5rem'};
                    text-align: center;
                    margin: ${isMobile ? '1.5rem' : '2rem'};
                    line-height: 1.6;
                    max-width: ${isMobile ? '90%' : '800px'};
                    opacity: 0;
                    transition: opacity 2s ease;
                    padding: ${isMobile ? '0 10px' : '0'};
                `;
                
                if (isMobile) {
                    // Сокращенная версия для мобильных
                    morpheusText.innerHTML = `
                        "Ты всю жизнь ощущал её присутствие.<br>
                        Как заноза в мозгу, сводящая с ума.<br><br>
                        <span style="color: #ff4444;">АННА.EXE - не просто программист.</span><br>
                        <span style="color: #4444ff;">Создатель цифровых миров.</span><br><br>
                        Добро пожаловать в реальность."
                    `;
                } else {
                    // Полная версия для десктопа
                    morpheusText.innerHTML = `
                        "Ты всю жизнь ощущал её присутствие.<br>
                        Ты не знаешь, что это, но она здесь.<br>
                        Как заноза в мозгу, сводящая с ума.<br><br>
                        <span style="color: #ff4444;">АННА.EXE - это не просто программист.</span><br>
                        <span style="color: #4444ff;">Это создатель цифровых миров.</span><br><br>
                        Добро пожаловать... в реальность."
                    `;
                }
                
                matrixOverlay.appendChild(morpheusText);
                
                setTimeout(() => {
                    morpheusText.style.opacity = '1';
                }, 500);
                
                // Адаптивные мистические звуки
                const mysticalFreqs = isMobile ? [300, 200, 150, 100] : [300, 250, 200, 180, 160, 140, 120, 100];
                const soundDelay = isMobile ? 800 : 600;
                
                mysticalFreqs.forEach((freq, index) => {
                    setTimeout(() => {
                        playBeep(freq, 300);
                    }, index * soundDelay);
                });
                
                // Мобильная дополнительная вибрация
                if (isMobile) {
                    setTimeout(() => {
                        triggerVibration([100, 100, 100, 100, 200]);
                    }, 1000);
                }
                
            }, 5000);
            
            // Этап 4: Выбор таблеток (с адаптивной задержкой)
            const pillChoiceDelay = isMobile ? 10000 : 12000; // Раньше на мобильных
            setTimeout(() => {
                createPillChoice(matrixOverlay);
            }, pillChoiceDelay);
            
            // Адаптивное автозакрытие
            const autoCloseDelay = isMobile ? 25000 : 30000; // Раньше на мобильных
            setTimeout(() => {
                if (document.getElementById('matrixWakeUp')) {
                    closeMatrixEffect();
                }
            }, autoCloseDelay);
            
            // Блокируем скролл на мобильных
            if (isMobile) {
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
                document.body.style.height = '100%';
            }
        }
        
        function createIntenseMatrixRain(container) {
            const matrixChars = '01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンANNA.EXE';
            
            // Создаем 50 колонн символов
            for (let i = 0; i < 50; i++) {
                const column = document.createElement('div');
                column.style.cssText = `
                    position: absolute;
                    top: -100vh;
                    left: ${i * 2}%;
                    width: 20px;
                    height: 100vh;
                    overflow: hidden;
                `;
                
                // Создаем символы в колонне
                for (let j = 0; j < 20; j++) {
                    const char = document.createElement('div');
                    char.textContent = matrixChars[Math.floor(Math.random() * matrixChars.length)];
                    char.style.cssText = `
                        color: #00ff41;
                        font-size: ${12 + Math.random() * 8}px;
                        text-shadow: 0 0 10px #00ff41;
                        margin-bottom: 5px;
                        opacity: ${0.3 + Math.random() * 0.7};
                        animation: matrix-fall-intense ${2 + Math.random() * 3}s linear infinite;
                        animation-delay: ${Math.random() * 2}s;
                    `;
                    column.appendChild(char);
                }
                
                container.appendChild(column);
            }
            
            // CSS анимация для интенсивного падения
            const style = document.createElement('style');
            style.textContent = `
                @keyframes matrix-fall-intense {
                    0% { transform: translateY(-100vh); opacity: 0; }
                    10% { opacity: 1; }
                    90% { opacity: 1; }
                    100% { transform: translateY(100vh); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Облегченная версия матричного дождя для мобильных
        function createMobileMatrixRain(container) {
            const matrixChars = '01ANNA.EXE';
            
            // Меньше колонн для лучшей производительности
            for (let i = 0; i < 20; i++) {
                const column = document.createElement('div');
                column.style.cssText = `
                    position: absolute;
                    top: -100vh;
                    left: ${i * 5}%;
                    width: 20px;
                    height: 100vh;
                    overflow: hidden;
                `;
                
                // Меньше символов в колонне
                for (let j = 0; j < 10; j++) {
                    const char = document.createElement('div');
                    char.textContent = matrixChars[Math.floor(Math.random() * matrixChars.length)];
                    char.style.cssText = `
                        color: #00ff41;
                        font-size: ${14 + Math.random() * 6}px;
                        text-shadow: 0 0 8px #00ff41;
                        margin-bottom: 8px;
                        opacity: ${0.4 + Math.random() * 0.6};
                        animation: matrix-fall-mobile ${1.5 + Math.random() * 2}s linear infinite;
                        animation-delay: ${Math.random() * 1.5}s;
                    `;
                    column.appendChild(char);
                }
                
                container.appendChild(column);
            }
            
            // Оптимизированная CSS анимация для мобильных
            const mobileStyle = document.createElement('style');
            mobileStyle.textContent = `
                @keyframes matrix-fall-mobile {
                    0% { transform: translateY(-100vh); opacity: 0; }
                    15% { opacity: 1; }
                    85% { opacity: 1; }
                    100% { transform: translateY(100vh); opacity: 0; }
                }
            `;
            document.head.appendChild(mobileStyle);
        }
        
        function createPillChoice(container) {
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            const choiceContainer = document.createElement('div');
            choiceContainer.style.cssText = `
                position: absolute;
                bottom: ${isMobile ? '80px' : '100px'};
                left: 50%;
                transform: translateX(-50%);
                display: flex;
                gap: ${isMobile ? '60px' : '100px'};
                align-items: center;
                opacity: 0;
                transition: opacity 2s ease;
                padding: ${isMobile ? '20px' : '0'};
                max-width: 90%;
                flex-wrap: ${isMobile ? 'wrap' : 'nowrap'};
            `;
            
            // Красная таблетка (адаптивная)
            const redPill = document.createElement('div');
            redPill.style.cssText = `
                width: ${isMobile ? '120px' : '80px'};
                height: ${isMobile ? '60px' : '40px'};
                background: linear-gradient(45deg, #ff0000, #aa0000);
                border-radius: ${isMobile ? '30px' : '20px'};
                cursor: pointer;
                box-shadow: 0 0 30px #ff0000;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: ${isMobile ? '16px' : '12px'};
                touch-action: manipulation;
                user-select: none;
                -webkit-user-select: none;
                -webkit-touch-callout: none;
            `;
            redPill.textContent = 'ПРАВДА';
            redPill.title = 'Красная таблетка - узнать правду';
            
            // Мобильные события для красной таблетки
            if (isMobile) {
                redPill.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    redPill.style.transform = 'scale(1.1)';
                    redPill.style.boxShadow = '0 0 40px #ff0000';
                    playBeep(400, 100);
                    triggerVibration([80]);
                }, { passive: false });
                
                redPill.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    console.log('🔴 КРАСНАЯ ТАБЛЕТКА ВЫБРАНА (МОБИЛЬНАЯ) - ПРАВДА ОТКРЫТА!');
                    redPill.style.transform = 'scale(1.3)';
                    triggerVibration([200, 100, 200]);
                    playBeep(600, 200);
                    setTimeout(() => {
                        executeRedPillEffect();
                    }, 300);
                }, { passive: false });
                
                redPill.addEventListener('touchcancel', (e) => {
                    redPill.style.transform = 'scale(1)';
                    redPill.style.boxShadow = '0 0 30px #ff0000';
                });
            } else {
                // Десктопные события
                redPill.addEventListener('mouseenter', () => {
                    redPill.style.transform = 'scale(1.2)';
                    redPill.style.boxShadow = '0 0 50px #ff0000';
                    playBeep(400, 100);
                });
                
                redPill.addEventListener('mouseleave', () => {
                    redPill.style.transform = 'scale(1)';
                    redPill.style.boxShadow = '0 0 30px #ff0000';
                });
                
                redPill.addEventListener('click', () => {
                    console.log('🔴 КРАСНАЯ ТАБЛЕТКА ВЫБРАНА - ПРАВДА ОТКРЫТА!');
                    executeRedPillEffect();
                });
            }
            
            // Синяя таблетка (адаптивная)
            const bluePill = document.createElement('div');
            bluePill.style.cssText = `
                width: ${isMobile ? '120px' : '80px'};
                height: ${isMobile ? '60px' : '40px'};
                background: linear-gradient(45deg, #0000ff, #0000aa);
                border-radius: ${isMobile ? '30px' : '20px'};
                cursor: pointer;
                box-shadow: 0 0 30px #0000ff;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-weight: bold;
                font-size: ${isMobile ? '16px' : '12px'};
                touch-action: manipulation;
                user-select: none;
                -webkit-user-select: none;
                -webkit-touch-callout: none;
            `;
            bluePill.textContent = 'ЗАБВЕНИЕ';
            bluePill.title = 'Синяя таблетка - вернуться в неведение';
            
            // Мобильные события для синей таблетки
            if (isMobile) {
                bluePill.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    bluePill.style.transform = 'scale(1.1)';
                    bluePill.style.boxShadow = '0 0 40px #0000ff';
                    playBeep(600, 100);
                    triggerVibration([80]);
                }, { passive: false });
                
                bluePill.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    console.log('🔵 СИНЯЯ ТАБЛЕТКА ВЫБРАНА (МОБИЛЬНАЯ) - ВОЗВРАТ В МАТРИЦУ');
                    bluePill.style.transform = 'scale(1.3)';
                    triggerVibration([150, 100, 150]);
                    playBeep(400, 200);
                    setTimeout(() => {
                        executeBluePillEffect();
                    }, 300);
                }, { passive: false });
                
                bluePill.addEventListener('touchcancel', (e) => {
                    bluePill.style.transform = 'scale(1)';
                    bluePill.style.boxShadow = '0 0 30px #0000ff';
                });
            } else {
                // Десктопные события
                bluePill.addEventListener('mouseenter', () => {
                    bluePill.style.transform = 'scale(1.2)';
                    bluePill.style.boxShadow = '0 0 50px #0000ff';
                    playBeep(600, 100);
                });
                
                bluePill.addEventListener('mouseleave', () => {
                    bluePill.style.transform = 'scale(1)';
                    bluePill.style.boxShadow = '0 0 30px #0000ff';
                });
                
                bluePill.addEventListener('click', () => {
                    console.log('🔵 СИНЯЯ ТАБЛЕТКА ВЫБРАНА - ВОЗВРАТ В МАТРИЦУ');
                    executeBluePillEffect();
                });
            }
            
            // Текст выбора (адаптивный)
            const choiceText = document.createElement('div');
            choiceText.style.cssText = `
                position: absolute;
                top: ${isMobile ? '-100px' : '-80px'};
                left: 50%;
                transform: translateX(-50%);
                text-align: center;
                font-size: ${isMobile ? '1.4rem' : '1.2rem'};
                color: #ffffff;
                text-shadow: 0 0 10px #00ff41;
                white-space: nowrap;
                padding: ${isMobile ? '0 20px' : '0'};
            `;
            choiceText.textContent = 'Сделай свой выбор...';
            
            // Мобильная подсказка
            if (isMobile) {
                const mobileHint = document.createElement('div');
                mobileHint.style.cssText = `
                    position: absolute;
                    top: -60px;
                    left: 50%;
                    transform: translateX(-50%);
                    text-align: center;
                    font-size: 0.9rem;
                    color: #888;
                    white-space: nowrap;
                `;
                mobileHint.textContent = 'Коснись для выбора';
                choiceContainer.appendChild(mobileHint);
            }
            
            choiceContainer.appendChild(choiceText);
            choiceContainer.appendChild(redPill);
            choiceContainer.appendChild(bluePill);
            container.appendChild(choiceContainer);
            
            // Показываем выбор с адаптивными эффектами
            setTimeout(() => {
                choiceContainer.style.opacity = '1';
                
                // Звук появления выбора
                playBeep(800, 300);
                setTimeout(() => playBeep(600, 300), 300);
                
                // Адаптивная вибрация
                if (isMobile) {
                    triggerVibration([150, 100, 150, 100, 250]);
                } else {
                    triggerVibration([100, 100, 100, 100, 200]);
                }
            }, 500);
        }
        
        function executeRedPillEffect() {
            console.log('КРАСНАЯ ТАБЛЕТКА: ОТКРЫТИЕ ПРАВДЫ!');
            
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const matrixDiv = document.getElementById('matrixWakeUp');
            
            // Адаптивные звуки разрушения
            const destructionSounds = isMobile ? [800, 600, 400, 200] : [1000, 800, 600, 400, 200, 100];
            const soundDelay = isMobile ? 300 : 200;
            
            destructionSounds.forEach((freq, index) => {
                setTimeout(() => {
                    playBeep(freq, 200);
                }, index * soundDelay);
            });
            
            // Адаптивная вибрация разрушения
            if (isMobile) {
                triggerVibration([250, 150, 250, 150, 400]);
            } else {
                triggerVibration([200, 100, 200, 100, 200, 100, 500]);
            }
            
            // Эффект глитча
            matrixDiv.style.animation = 'chaos-glitch 0.1s infinite';
            matrixDiv.style.filter = 'invert(1) hue-rotate(180deg) contrast(2)';
            
            setTimeout(() => {
                // Адаптивное секретное сообщение
                const titleSize = isMobile ? '1.5rem' : '2rem';
                const contentSize = isMobile ? '1rem' : '1.2rem';
                const maxWidth = isMobile ? '90%' : '600px';
                const bottomPos = isMobile ? '30px' : '50px';
                const buttonPadding = isMobile ? '20px 40px' : '15px 30px';
                const buttonSize = isMobile ? '1.1rem' : '1rem';
                
                if (isMobile) {
                    // Сокращенная версия для мобильных
                    matrixDiv.innerHTML = `
                        <div style="
                            font-size: ${titleSize};
                            text-align: center;
                            color: #ff0000;
                            text-shadow: 0 0 20px #ff0000;
                            animation: neon-pulse 0.5s infinite;
                            margin: 1.5rem;
                        ">
                            ПРАВДА ОТКРЫТА
                        </div>
                        <div style="
                            font-size: ${contentSize};
                            text-align: center;
                            color: #ffffff;
                            max-width: ${maxWidth};
                            line-height: 1.5;
                            margin: 1.5rem auto;
                            padding: 0 20px;
                        ">
                            Ты видишь код за реальностью.<br>
                            ANNA.EXE - архитектор миров.<br><br>
                            <span style="color: #00ff41;">
                            Каждая строка кода - вселенная.<br>
                            Добро пожаловать в реальность, Нео.
                            </span>
                        </div>
                        <div style="
                            position: absolute;
                            bottom: ${bottomPos};
                            left: 50%;
                            transform: translateX(-50%);
                            padding: ${buttonPadding};
                            background: rgba(255, 0, 0, 0.3);
                            border: 3px solid #ff0000;
                            color: #ffffff;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-size: ${buttonSize};
                            border-radius: 8px;
                            font-weight: bold;
                            touch-action: manipulation;
                            user-select: none;
                        " onclick="closeMatrixEffect()" ontouchstart="this.style.background='rgba(255,0,0,0.5)'" ontouchend="this.style.background='rgba(255,0,0,0.3)'" onmouseover="this.style.background='rgba(255,0,0,0.4)'" onmouseout="this.style.background='rgba(255,0,0,0.3)'">
                            ВЫЙТИ ИЗ МАТРИЦЫ
                        </div>
                    `;
                } else {
                    // Полная версия для десктопа
                    matrixDiv.innerHTML = `
                        <div style="
                            font-size: ${titleSize};
                            text-align: center;
                            color: #ff0000;
                            text-shadow: 0 0 20px #ff0000;
                            animation: neon-pulse 0.5s infinite;
                            margin: 2rem;
                        ">
                            ПРАВДА ОТКРЫТА
                        </div>
                        <div style="
                            font-size: ${contentSize};
                            text-align: center;
                            color: #ffffff;
                            max-width: ${maxWidth};
                            line-height: 1.6;
                            margin: 2rem auto;
                        ">
                            Ты видишь код за фасадом реальности.<br>
                            ANNA.EXE не просто программист.<br>
                            Она - архитектор цифровых миров.<br><br>
                            <span style="color: #00ff41;">
                            Каждая строка кода - это новая вселенная.<br>
                            Каждый алгоритм - это закон физики.<br>
                            Добро пожаловать в истинную реальность, Нео.
                            </span>
                        </div>
                        <div style="
                            position: absolute;
                            bottom: ${bottomPos};
                            left: 50%;
                            transform: translateX(-50%);
                            padding: ${buttonPadding};
                            background: rgba(255, 0, 0, 0.2);
                            border: 2px solid #ff0000;
                            color: #ffffff;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-size: ${buttonSize};
                        " onclick="closeMatrixEffect()" onmouseover="this.style.background='rgba(255,0,0,0.4)'" onmouseout="this.style.background='rgba(255,0,0,0.2)'">
                            ВЫЙТИ ИЗ МАТРИЦЫ
                        </div>
                    `;
                }
            }, 2000);
            
            // Адаптивное автозакрытие
            const autoCloseDelay = isMobile ? 10000 : 12000;
            setTimeout(() => {
                closeMatrixEffect();
            }, autoCloseDelay);
        }
        
        function executeBluePillEffect() {
            console.log('СИНЯЯ ТАБЛЕТКА: ВОЗВРАТ В НЕВЕДЕНИЕ');
            
            const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const matrixDiv = document.getElementById('matrixWakeUp');
            
            // Адаптивные звуки забвения
            const forgettingSounds = isMobile ? [500, 400, 300, 200] : [600, 500, 400, 300, 200, 100];
            const soundDelay = isMobile ? 500 : 400;
            
            forgettingSounds.forEach((freq, index) => {
                setTimeout(() => {
                    playBeep(freq, 400);
                }, index * soundDelay);
            });
            
            // Адаптивная вибрация забвения
            if (isMobile) {
                triggerVibration([250, 150, 250]);
            } else {
                triggerVibration([300, 200, 300]);
            }
            
            // Эффект затухания
            matrixDiv.style.filter = 'blur(5px) brightness(0.3)';
            matrixDiv.style.transition = 'all 3s ease';
            
            setTimeout(() => {
                const titleSize = isMobile ? '1.5rem' : '2rem';
                const contentSize = isMobile ? '1rem' : '1.2rem';
                const maxWidth = isMobile ? '90%' : '600px';
                const titleMargin = isMobile ? '2rem' : '3rem';
                const contentMargin = isMobile ? '1.5rem auto' : '2rem auto';
                
                if (isMobile) {
                    // Сокращенная версия для мобильных
                    matrixDiv.innerHTML = `
                        <div style="
                            font-size: ${titleSize};
                            text-align: center;
                            color: #0066ff;
                            text-shadow: 0 0 20px #0066ff;
                            margin: ${titleMargin};
                            opacity: 0.8;
                            padding: 0 20px;
                        ">
                            Ты просыпаешься в постели...
                        </div>
                        <div style="
                            font-size: ${contentSize};
                            text-align: center;
                            color: #cccccc;
                            max-width: ${maxWidth};
                            line-height: 1.5;
                            margin: ${contentMargin};
                            opacity: 0.7;
                            padding: 0 20px;
                        ">
                            И веришь во что хочешь верить.<br>
                            Это был всего лишь сон...<br>
                            Или нет?<br><br>
                            <span style="color: #666666; font-size: 0.85rem;">
                            Некоторые вещи лучше забыть.<br>
                            Но код остается... навсегда.
                            </span>
                        </div>
                    `;
                } else {
                    // Полная версия для десктопа
                    matrixDiv.innerHTML = `
                        <div style="
                            font-size: ${titleSize};
                            text-align: center;
                            color: #0066ff;
                            text-shadow: 0 0 20px #0066ff;
                            margin: ${titleMargin};
                            opacity: 0.8;
                        ">
                            Ты просыпаешься в своей постели...
                        </div>
                        <div style="
                            font-size: ${contentSize};
                            text-align: center;
                            color: #cccccc;
                            max-width: ${maxWidth};
                            line-height: 1.6;
                            margin: ${contentMargin};
                            opacity: 0.7;
                        ">
                            И веришь во что хочешь верить.<br>
                            Это был всего лишь сон...<br>
                            Или нет?<br><br>
                            <span style="color: #666666; font-size: 0.9rem;">
                            Некоторые вещи лучше забыть.<br>
                            Но код остается... навсегда.
                            </span>
                        </div>
                    `;
                }
                
                // Адаптивное затухание и закрытие
                const fadeDelay = isMobile ? 2500 : 3000;
                const closeDelay = isMobile ? 1500 : 2000;
                
                setTimeout(() => {
                    matrixDiv.style.opacity = '0';
                    setTimeout(() => {
                        closeMatrixEffect();
                    }, closeDelay);
                }, fadeDelay);
            }, 1000);
        }
        
        function closeMatrixEffect() {
            const matrixDiv = document.getElementById('matrixWakeUp');
            if (matrixDiv) {
                const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                
                // Звук закрытия
                playBeep(300, 500);
                triggerVibration([200]);
                
                // Восстанавливаем скролл на мобильных
                if (isMobile) {
                    document.body.style.overflow = '';
                    document.body.style.position = '';
                    document.body.style.width = '';
                    document.body.style.height = '';
                }
                
                // Плавное исчезновение
                matrixDiv.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(matrixDiv)) {
                        document.body.removeChild(matrixDiv);
                    }
                    console.log('Матрица закрыта. Добро пожаловать обратно.');
                }, 1000);
            }
        }
        
        // Глобальная функция для закрытия (доступна из HTML)
        window.closeMatrixEffect = closeMatrixEffect;
        
        // === СЕКРЕТНЫЕ КОМАНДЫ ===
        
        // Список секретных команд
        const secretCommands = {
            // Основные ссылочные команды
            'faw': () => window.open('https://en.wikipedia.org/wiki/FAW_Vita', '_blank'),
            'artansy': () => window.open('https://artansy.github.io/portfolio/', '_blank'),
            'anna': () => window.open('https://t.me/artansy', '_blank'),
            
            // ПАСХАЛКА МАТРИЦЫ
            'wake up, neo': () => {
                console.log('🕶️ WAKE UP, NEO...');
                executeMatrixWakeUp();
            },
            
            // Уникальные команды для секретного поля
            'neon': () => {
                // Неоновый взрыв - яркие цветные полосы по экрану
                document.body.style.background = 'repeating-linear-gradient(45deg, #ff00ff, #00ffff 10px, #ffff00 20px, #ff0080 30px)';
                document.body.style.animation = 'neon-pulse 0.2s infinite';

                console.log('NEON команда выполнена!');
            },
            'portal': () => {
                // Эффект портала - вращающийся туннель
                const portal = document.createElement('div');
                portal.innerHTML = '<div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px; border: 10px solid #00ff41; border-radius: 50%; animation: spin 2s linear infinite; box-shadow: 0 0 100px #00ff41; z-index: 10006;"></div>';
                document.body.appendChild(portal);
                
                // Звук портала
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        playBeep(200 + i * 30, 50);
                    }, i * 50);
                }
                
                setTimeout(() => {
                    document.body.removeChild(portal);
                }, 3000);
                console.log('PORTAL команда выполнена!');
            },
            'gravity': () => {
                // Гравитационный эффект - все элементы "падают"
                const elements = document.querySelectorAll('div, h1, h2, h3, p, button');
                elements.forEach((el, index) => {
                    setTimeout(() => {
                        el.style.transition = 'transform 2s ease-in';
                        el.style.transform = `translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 360}deg)`;
                    }, index * 50);
                });
                
                setTimeout(() => {
                    elements.forEach(el => {
                        el.style.transition = 'transform 1s ease-out';
                        el.style.transform = '';
                    });
                }, 3000);
                console.log('GRAVITY команда выполнена!');
            },
            'hologram': () => {
                // Голографический эффект - полупрозрачность и сканлайны
                document.body.style.opacity = '0.7';
                document.body.style.background = 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,65,0.1) 2px, rgba(0,255,65,0.1) 4px)';
                document.body.style.filter = 'blur(0.5px) contrast(1.5)';
                
                setTimeout(() => {
                    document.body.style.opacity = '';
                    document.body.style.background = '';
                    document.body.style.filter = '';
                }, 5000);
                console.log('HOLOGRAM команда выполнена!');
            },
            'quantum': () => {
                // Квантовый эффект - элементы появляются/исчезают
                const elements = document.querySelectorAll('*');
                elements.forEach(el => {
                    el.style.animation = 'quantum-flicker 0.1s infinite';
                });
                
                setTimeout(() => {
                    elements.forEach(el => {
                        el.style.animation = '';
                    });
                }, 4000);
                console.log('QUANTUM команда выполнена!');
            },
            'mirror': () => {
                // Зеркальный эффект - переворот страницы
                document.body.style.transform = 'scaleX(-1)';
                document.body.style.transition = 'transform 1s ease';
                
                setTimeout(() => {
                    document.body.style.transform = '';
                }, 4000);
                console.log('MIRROR команда выполнена!');
            },
            'snow': () => {
                // Цифровой снег
                for (let i = 0; i < 100; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.textContent = ['0', '1', '*', '+', '-'][Math.floor(Math.random() * 5)];
                    snowflake.style.cssText = `
                        position: fixed;
                        top: -20px;
                        left: ${Math.random() * 100}%;
                        color: #00ff41;
                        font-family: 'Fira Code', monospace;
                        pointer-events: none;
                        z-index: 10006;
                        animation: fall ${2 + Math.random() * 3}s linear infinite;
                    `;
                    document.body.appendChild(snowflake);
                    
                    setTimeout(() => {
                        if (snowflake.parentNode) {
                            snowflake.parentNode.removeChild(snowflake);
                        }
                    }, 5000);
                }
                console.log('SNOW команда выполнена!');
            },
            'zoom': () => {
                // Эффект увеличения - страница "приближается"
                document.body.style.transform = 'scale(3)';
                document.body.style.transition = 'transform 3s ease';
                
                setTimeout(() => {
                    document.body.style.transform = 'scale(0.1)';
                }, 1500);
                
                setTimeout(() => {
                    document.body.style.transform = '';
                }, 3000);
                console.log('ZOOM команда выполнена!');
            },
            'dance': () => {
                // Танцующие элементы
                const elements = document.querySelectorAll('h1, h2, h3, .cyber-card');
                elements.forEach((el, index) => {
                    el.style.animation = `dance ${0.5 + Math.random() * 0.5}s infinite alternate`;
                    el.style.animationDelay = `${index * 0.1}s`;
                });
                
                setTimeout(() => {
                    elements.forEach(el => {
                        el.style.animation = '';
                    });
                }, 5000);
                console.log('DANCE команда выполнена!');
            },
            'freeze': () => {
                // Заморозка - всё останавливается
                document.body.style.filter = 'brightness(0.3) contrast(2) hue-rotate(200deg)';
                const elements = document.querySelectorAll('*');
                elements.forEach(el => {
                    el.style.animationPlayState = 'paused';
                    el.style.pointerEvents = 'none';
                });
                
                setTimeout(() => {
                    document.body.style.filter = '';
                    elements.forEach(el => {
                        el.style.animationPlayState = '';
                        el.style.pointerEvents = '';
                    });
                }, 3000);
                console.log('FREEZE команда выполнена!');
            },
            'pulse': () => {
                // Пульсирующий эффект всей страницы
                document.body.style.animation = 'mega-pulse 0.5s infinite alternate';
                
                setTimeout(() => {
                    document.body.style.animation = '';
                }, 4000);
                console.log('PULSE команда выполнена!');
            },
            'scan': () => {
                // Сканирующий луч
                const scanner = document.createElement('div');
                scanner.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 4px;
                    height: 100vh;
                    background: linear-gradient(to bottom, transparent, #00ff41, transparent);
                    box-shadow: 0 0 20px #00ff41;
                    animation: scan-beam 3s linear infinite;
                    z-index: 10006;
                `;
                document.body.appendChild(scanner);
                
                setTimeout(() => {
                    document.body.removeChild(scanner);
                }, 6000);
                console.log('SCAN команда выполнена!');
            },
            'warp': () => {
                // Искажение пространства
                document.body.style.perspective = '500px';
                document.body.style.transformStyle = 'preserve-3d';
                document.body.style.animation = 'warp-effect 3s ease-in-out';
                
                setTimeout(() => {
                    document.body.style.perspective = '';
                    document.body.style.transformStyle = '';
                    document.body.style.animation = '';
                }, 3000);
                console.log('WARP команда выполнена!');
            },
            'отгадка': () => {
                // Показывает список команд
                const commandList = Object.keys(secretCommands).filter(cmd => cmd !== 'отгадка').join(', ');
                alert(`Доступные секретные команды:\n\n${commandList}\n\nТакже работают ссылки: faw, artansy, anna\n\n🕶️ Особая команда: "wake up, neo" - пробуждение`);
                console.log('команда выполнена!');
            }
        };
        
        // Функция взрыва
        function createExplosion() {
            const explosion = document.createElement('div');
            explosion.className = 'command-explosion';
            document.body.appendChild(explosion);
            
            // Создаем 30 частиц
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'explosion-particle';
                
                const angle = (i / 30) * Math.PI * 2;
                const distance = 200 + Math.random() * 100;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                particle.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                
                explosion.appendChild(particle);
            }
            
            // Звук взрыва
            const explosionSounds = [200, 150, 100, 80, 60];
            explosionSounds.forEach((freq, index) => {
                setTimeout(() => {
                    playBeep(freq, 200);
                }, index * 100);
            });
            
            // Вибрация взрыва
            triggerVibration([300, 100, 300, 100, 300]);
            
            // Удаляем эффект через 1 секунду
            setTimeout(() => {
                document.body.removeChild(explosion);
            }, 1000);
        }
        
        // Переключение видимости команд
        function toggleCommandsVisibility() {
            commandsVisible = !commandsVisible;
            const commandsPanel = document.getElementById('secretCommands');
            const toggleBtn = document.getElementById('commandToggle');
            
            if (commandsVisible) {
                commandsPanel.classList.add('active');
                toggleBtn.classList.add('active');
                
                // Фокус на поле ввода с небольшой задержкой для завершения анимации
                setTimeout(() => {
                    document.getElementById('commandInput').focus();
                }, 200);
                
                // Звук открытия с эхо-эффектом
                playBeep(800, 150);
                setTimeout(() => playBeep(1000, 100), 150);
                setTimeout(() => playBeep(1200, 80), 250);
                
                // Усиленная вибрация для секретной панели
                triggerVibration([100, 50, 100]);
                
                console.log('SECRET_COMMANDS.EXE активирована с эффектами свечения!');
            } else {
                commandsPanel.classList.remove('active');
                toggleBtn.classList.remove('active');
                document.getElementById('commandInput').blur();
                
                // Звук закрытия
                playBeep(400, 100);
                triggerVibration([50]);
                
                console.log('SECRET_COMMANDS.EXE деактивирована');
            }
        }
        
        // Обработка команд
        function executeCommand(command) {
            const input = document.getElementById('commandInput');
            command = command.toLowerCase().trim();
            
            if (secretCommands[command]) {
                // Команда найдена - выполняем
                input.classList.remove('error');
                input.classList.add('success');
                
                // Звук успеха
                playBeep(1200, 200);
                triggerVibration([100, 50, 100]);
                
                // Выполняем команду через небольшую задержку для визуального эффекта
                setTimeout(() => {
                    secretCommands[command]();
                    input.value = '';
                    input.classList.remove('success');
                }, 500);
                
                console.log(`Команда "${command}" выполнена!`);
            } else {
                // Команда не найдена - ошибка
                input.classList.remove('success');
                input.classList.add('error');
                
                // Звук ошибки
                playBeep(200, 300);
                triggerVibration([200, 100, 200]);
                
                // Убираем класс ошибки через 1 секунду
                setTimeout(() => {
                    input.classList.remove('error');
                }, 1000);
                
                console.log(`Неизвестная команда: "${command}"`);
            }
        }
        
        // Обработчики секретных команд
        document.getElementById('commandToggle')?.addEventListener('click', () => {
            toggleCommandsVisibility();
        });
        
        // Обработка ввода команд
        document.getElementById('commandInput')?.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const command = e.target.value;
                if (command.trim()) {
                    executeCommand(command);
                }
            } else if (e.key === 'Escape') {
                toggleCommandsVisibility();
            }
        });
        
        // Скрытие панели при клике вне её
        document.addEventListener('click', (e) => {
            const commandsPanel = document.getElementById('secretCommands');
            const toggleBtn = document.getElementById('commandToggle');
            const input = document.getElementById('commandInput');
            
            if (commandsVisible && 
                !commandsPanel.contains(e.target) && 
                !toggleBtn.contains(e.target)) {
                toggleCommandsVisibility();
            }
        });
        
        // Секретная клавиатурная комбинация для открытия команд: Ctrl+Shift+X
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && (e.key === 'X' || e.code === 'KeyX')) {
                e.preventDefault();
                if (!commandsVisible) {
                    toggleCommandsVisibility();
                }
            }
        });
        
        // Инициализация мобильных функций
        document.addEventListener('DOMContentLoaded', () => {
            // Инициализируем мобильный режим хаоса
            initMobileChaosMode();
            
            // Проверяем поддержку вибрации (без запроса разрешений)
            if (navigator.vibrate) {

            } else {
                console.log('Вибрация не поддерживается этим браузером');
            }
            
            // Уведомление о мобильных пасхалках
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            
        });
        
    </script>
</body>
</html>
